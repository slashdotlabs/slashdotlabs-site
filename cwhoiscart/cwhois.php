<?php
// cWhois V2.13
// Copyright 2002 to 2018 Vibralogix
// You are licensed to use this on one domain only.
// Please email support@vibralogix.com for further details.

// List of who is servers for each domain type
// domain extension,whois server,not registered flag
global $dtd;
$dtd[]=".ac,whois.nic.ac,- available,0";
$dtd[]=".net.ae,whois.aeda.net.ae,no data found,0";
$dtd[]=".gov.ae,whois.aeda.net.ae,no data found,0";
$dtd[]=".org.ae,whois.aeda.net.ae,no data found,0";
$dtd[]=".mil.ae,whois.aeda.net.ae,no data found,0";
$dtd[]=".sch.ae,whois.aeda.net.ae,no data found,0";
$dtd[]=".ac.ae,whois.aeda.net.ae,no data found,0";
$dtd[]=".pro.ae,whois.aeda.net.ae,no data found,0";
$dtd[]=".name.ae,whois.aeda.net.ae,no data found,0";
$dtd[]=".ae,whois.aeda.net.ae,no data found,0";
$dtd[]=".af,whois.cocca.cx,!!!dom!!!!!!domt!!!\nstatus: not registered,0";
$dtd[]=".com.ag,whois.nic.ag,not found,0";
$dtd[]=".edu.ag,whois.nic.ag,not found,0";
$dtd[]=".gov.ag,whois.nic.ag,not found,0";
$dtd[]=".net.ag,whois.nic.ag,not found,0";
$dtd[]=".org.ag,whois.nic.ag,not found,0";
$dtd[]=".ag,whois.nic.ag,not found,0";
$dtd[]=".am,whois.nic.am,no match,0";
$dtd[]=".as,whois.nic.as,not found,0";
$dtd[]=".asia,whois.nic.asia,not found,0";
$dtd[]=".ac.at,whois.nic.at,nothing found,1";
$dtd[]=".co.at,whois.nic.at,nothing found,1";
$dtd[]=".gv.at,whois.nic.at,nothing found,1";
$dtd[]=".or.at,whois.nic.at,nothing found,1";
$dtd[]=".at,whois.nic.at,nothing found,1";
$dtd[]=".asn.au,*auwhois,no data found,0";
$dtd[]=".com.au,*auwhois,no data found,0";
$dtd[]=".edu.au,whois.aunic.net,no entries,0";
$dtd[]=".id.au,*auwhois,no data found,0";
$dtd[]=".net.au,*auwhois,no data found,0";
$dtd[]=".org.au,*auwhois,no data found,0";
$dtd[]=".org.ba,*bawhois,slobodan,0";
$dtd[]=".net.ba,*bawhois,slobodan,0";
$dtd[]=".gov.ba,*bawhois,slobodan,0";
$dtd[]=".mil.ba,*bawhois,slobodan,0";
$dtd[]=".edu.ba,*bawhois,slobodan,0";
$dtd[]=".unsa.ba,*bawhois,slobodan,0";
$dtd[]=".ba,*bawhois,slobodan,0";
$dtd[]=".ac.be,*bewhois,free,0";
$dtd[]=".be,*bewhois, free,1";
$dtd[]=".bg,whois.digsys.bg,does not exist,0";
$dtd[]=".bj,whois.nic.bj,no records matching,0";
$dtd[]=".agr.br,whois.nic.br,no match,0";
$dtd[]=".am.br,whois.nic.br,no match,0";
$dtd[]=".art.br,whois.nic.br,no match,0";
$dtd[]=".com.br,whois.nic.br,no match,0";
$dtd[]=".coop.br,whois.nic.br,no match,0";
$dtd[]=".esp.br,whois.nic.br,no match,0";
$dtd[]=".etc.br,whois.nic.br,no match,0";
$dtd[]=".far.br,whois.nic.br,no match,0";
$dtd[]=".fm.br,whois.nic.br,no match,0";
$dtd[]=".g12.br,whois.nic.br,no match,0";
$dtd[]=".gov.br,whois.nic.br,no match,0";
$dtd[]=".imb.br,whois.nic.br,no match,0";
$dtd[]=".ind.br,whois.nic.br,no match,0";
$dtd[]=".inf.br,whois.nic.br,no match,0";
$dtd[]=".mil.br,whois.nic.br,no match,0";
$dtd[]=".net.br,whois.nic.br,no match,0";
$dtd[]=".org.br,whois.nic.br,no match,0";
$dtd[]=".psi.br,whois.nic.br,no match,0";
$dtd[]=".rec.br,whois.nic.br,no match,0";
$dtd[]=".srv.br,whois.nic.br,no match,0";
$dtd[]=".tmp.br,whois.nic.br,no match,0";
$dtd[]=".tur.br,whois.nic.br,no match,0";
$dtd[]=".tv.br,whois.nic.br,no match,0";
$dtd[]=".edu.br,whois.nic.br,no match,0";
$dtd[]=".nom.br,whois.nic.br,no match,0";
$dtd[]=".adm.br,whois.nic.br,no match,0";
$dtd[]=".adv.br,whois.nic.br,no match,0";
$dtd[]=".arq.br,whois.nic.br,no match,0";
$dtd[]=".ato.br,whois.nic.br,no match,0";
$dtd[]=".bio.br,whois.nic.br,no match,0";
$dtd[]=".bmd.br,whois.nic.br,no match,0";
$dtd[]=".cim.br,whois.nic.br,no match,0";
$dtd[]=".cng.br,whois.nic.br,no match,0";
$dtd[]=".cnt.br,whois.nic.br,no match,0";
$dtd[]=".ecn.br,whois.nic.br,no match,0";
$dtd[]=".eng.br,whois.nic.br,no match,0";
$dtd[]=".eti.br,whois.nic.br,no match,0";
$dtd[]=".fnd.br,whois.nic.br,no match,0";
$dtd[]=".fot.br,whois.nic.br,no match,0";
$dtd[]=".fst.br,whois.nic.br,no match,0";
$dtd[]=".ggf.br,whois.nic.br,no match,0";
$dtd[]=".jor.br,whois.nic.br,no match,0";
$dtd[]=".lel.br,whois.nic.br,no match,0";
$dtd[]=".mat.br,whois.nic.br,no match,0";
$dtd[]=".med.br,whois.nic.br,no match,0";
$dtd[]=".mus.br,whois.nic.br,no match,0";
$dtd[]=".not.br,whois.nic.br,no match,0";
$dtd[]=".ntr.br,whois.nic.br,no match,0";
$dtd[]=".odo.br,whois.nic.br,no match,0";
$dtd[]=".ppg.br,whois.nic.br,no match,0";
$dtd[]=".pro.br,whois.nic.br,no match,0";
$dtd[]=".psc.br,whois.nic.br,no match,0";
$dtd[]=".qsl.br,whois.nic.br,no match,0";
$dtd[]=".trd.br,whois.nic.br,no match,0";
$dtd[]=".vet.br,whois.nic.br,no match,0";
$dtd[]=".zlg.br,whois.nic.br,no match,0";
$dtd[]=".br,whois.nic.br,no match,0";
$dtd[]=".by,*bywhois,is available for registration,0"; 
$dtd[]=".com.bz,whois.belizenic.bz,nomatch,0";
$dtd[]=".net.bz,whois.belizenic.bz,nomatch,0";
$dtd[]=".org.bz,whois.belizenic.bz,nomatch,0";
$dtd[]=".bz,whois.belizenic.bz,nomatch,0";
$dtd[]=".bc.ca,whois.cira.ca,status:         avail,0";
$dtd[]=".mb.ca,whois.cira.ca,status:         avail,0";
$dtd[]=".nb.ca,whois.cira.ca,status:         avail,0";
$dtd[]=".nf.ca,whois.cira.ca,status:         avail,0";
$dtd[]=".ns.ca,whois.cira.ca,status:         avail,0";
$dtd[]=".nt.ca,whois.cira.ca,status:         avail,0";
$dtd[]=".on.ca,whois.cira.ca,status:         avail,0";
$dtd[]=".pe.ca,whois.cira.ca,status:         avail,0";
$dtd[]=".qc.ca,whois.cira.ca,status:         avail,0";
$dtd[]=".sk.ca,whois.cira.ca,status:         avail,0";
$dtd[]=".yk.ca,whois.cira.ca,status:         avail,0";
$dtd[]=".ca,whois.cira.ca,status:         avail,0";
$dtd[]=".cd,whois.nic.cd,not found,0";
$dtd[]=".cl,whois.nic.cl,no existe,0";
$dtd[]=".ch,*chwhois,we do not have an entry,1";
$dtd[]=".ci,whois.nic.ci,not found,0";
$dtd[]=".co.ck,whois.nic.ck,no entries found,0";
$dtd[]=".edu.ck,whois.nic.ck,no entries found,0";
$dtd[]=".gov.ck,whois.nic.ck,no entries found,0";
$dtd[]=".net.ck,whois.nic.ck,no entries found,0";
$dtd[]=".org.ck,whois.nic.ck,no entries found,0";
$dtd[]=".cm,whois.ripe,no entries found,0";
$dtd[]=".edu.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".ac.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".ah.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".bj.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".com.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".cq.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".gd.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".gov.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".gs.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".gx.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".gz.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".hb.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".he.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".hi.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".hk.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".hl.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".hn.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".jl.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".js.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".mo.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".net.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".nm.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".nx.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".ln.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".org.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".qh.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".sc.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".sh.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".sn.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".tj.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".tw.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".yn.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".xj.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".xz.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".zj.cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".cn,whois.cnnic.net.cn,no matching record,0";
$dtd[]=".co,whois.nic.co,not found,0";
$dtd[]=".arts.co,whois.nic.co,not found,0";
$dtd[]=".com.co,whois.nic.co,not found,0";
$dtd[]=".edu.co,whois.nic.co,not found,0";
$dtd[]=".firm.co,whois.nic.co,not found,0";
$dtd[]=".gov.co,whois.nic.co,not found,0";
$dtd[]=".info.co,whois.nic.co,not found,0";
$dtd[]=".int.co,whois.nic.co,not found,0";
$dtd[]=".mil.co,whois.nic.co,not found,0";
$dtd[]=".net.co,whois.nic.co,not found,0";
$dtd[]=".nom.co,whois.nic.co,not found,0";
$dtd[]=".org.co,whois.nic.co,not found,0";
$dtd[]=".rec.co,whois.nic.co,not found,0";
$dtd[]=".web.co,whois.nic.co,not found,0";
$dtd[]=".cx,whois.nic.cx,!!!dom!!!!!!domt!!!\nstatus: not registered,0";
$dtd[]=".cym.co,*cymcowhois,no database entry,0";
$dtd[]=".cz,whois.nic.cz,no entries found,0";
$dtd[]=".de,*dewhois,status:      free,1";
$dtd[]=".dj,*djwhois,domain is available,0";
$dtd[]=".dk,whois.dk-hostmaster.dk,no entries,0";
$dtd[]=".dm,whois.nic.dm,!!!dom!!!!!!domt!!!\nstatus: not registered,0";
$dtd[]=".com.ee,whois.eenet.ee,not found,0";
$dtd[]=".pri.ee,whois.eenet.ee,not found,0";
$dtd[]=".fie.ee,whois.eenet.ee,not found,0";
$dtd[]=".org.ee,whois.eenet.ee,not found,0";
$dtd[]=".med.ee,whois.eenet.ee,not found,0";
$dtd[]=".ee,whois.eenet.ee,not found,0";
$dtd[]=".com.es,*eswhois,not found,0";
$dtd[]=".nom.es,*eswhois,not found,0";
$dtd[]=".org.es,*eswhois,not found,0";
$dtd[]=".gob.es,*eswhois,not found,0";
$dtd[]=".edu.es,*eswhois,not found,0";
$dtd[]=".es,*eswhois,not found,0";
$dtd[]=".eu,*euwhois,status: available,0";
//$dtd[]=".eu,whois.eu,status: available,0";
$dtd[]=".fi,whois.ficora.fi,not found,0";
$dtd[]=".ac.fj,whois.usp.ac.fj,was not found,0";
$dtd[]=".biz.fj,whois.usp.ac.fj,was not found,0";
$dtd[]=".com.fj,whois.usp.ac.fj,was not found,0";
$dtd[]=".gov.fj,whois.usp.ac.fj,was not found,0";
$dtd[]=".info.fj,whois.usp.ac.fj,was not found,0";
$dtd[]=".mil.fj,whois.usp.ac.fj,was not found,0";
$dtd[]=".name.fj,whois.usp.ac.fj,was not found,0";
$dtd[]=".net.fj,whois.usp.ac.fj,was not found,0";
$dtd[]=".org.fj,whois.usp.ac.fj,was not found,0";
$dtd[]=".pro.fj,whois.usp.ac.fj,was not found,0";
$dtd[]=".school.fj,whois.usp.ac.fj,was not found,0";
$dtd[]=".fm,*fmwhois,no match,0";
$dtd[]=".fo,whois.ripe.net,no entries,0";
$dtd[]=".asso.fr,whois.nic.fr,no entries,0";
$dtd[]=".com.fr,whois.nic.fr,no entries,0";
$dtd[]=".nom.fr,whois.nic.fr,no entries,0";
$dtd[]=".prd.fr,whois.nic.fr,no entries,0";
$dtd[]=".presse.fr,whois.nic.fr,no entries,0";
$dtd[]=".tm.fr,whois.nic.fr,no entries,0";
$dtd[]=".fr,whois.nic.fr,no entries,0";
$dtd[]=".frl,whois.nic.frl,no match for domain";
$dtd[]=".gd,whois.adamsnames.tc,not registered,0";
$dtd[]=".gent,whois.nic.gent,no match,0";
$dtd[]=".co.gg,whois.channelisles.net,domain not found,0";
$dtd[]=".gov.gg,whois.channelisles.net,domain not found,0";
$dtd[]=".net.gg,whois.channelisles.net,domain not found,0";
$dtd[]=".org.gg,whois.channelisles.net,domain not found,0";
$dtd[]=".sch.gg,whois.channelisles.net,domain not found,0";
$dtd[]=".gg,whois.channelisles.net,domain not found,0";
$dtd[]=".gl,whois.ripe.net,no entries found,0";
$dtd[]=".gm,whois.ripe.net,no entries found,0";
$dtd[]=".gr,ns,no match,0";
$dtd[]=".co.gr,*grwhois,no match,0";
$dtd[]=".com.gr,*grwhois,no match,0";
$dtd[]=".net.gr,*grwhois,no match,0";
$dtd[]=".edu.gr,*grwhois,no match,0";
$dtd[]=".gov.gr,*grwhois,no match,0";
$dtd[]=".org.gr,*grwhois,no match,0";
$dtd[]=".gs,whois.adamsnames.tc,not registered,0";
$dtd[]=".com.hk,whois.hkirc.hk,not been registered,0";
$dtd[]=".edu.hk,whois.hkirc.hk,not been registered,0";
$dtd[]=".gov.hk,whois.hkirc.hk,not been registered,0";
$dtd[]=".net.hk,whois.hkirc.hk,not been registered,0";
$dtd[]=".org.hk,whois.hkirc.hk,not been registered,0";
$dtd[]=".hk,whois.hkdnr.net.hk,not been registered,0";
$dtd[]=".hm,whois.registry.hm,(null),0";
$dtd[]=".hn,whois2.afilias-grs.net,not found,0";
$dtd[]=".hr,whois.dns.hr,no entries,0";
$dtd[]=".com.hr,whois.dns.hr,no entries,0";
$dtd[]=".co.hu,whois.nic.hu,<!?>domain:,0";
$dtd[]=".info.hu,whois.nic.hu,<!?>domain:,0";
$dtd[]=".org.hu,whois.nic.hu,<!?>domain:,0";
$dtd[]=".priv.hu,whois.nic.hu,<!?>domain:,0";
$dtd[]=".sport.hu,whois.nic.hu,<!?>domain:,0";
$dtd[]=".tm.hu,whois.nic.hu,<!?>domain:,0";
$dtd[]=".hu,whois.nic.hu,<!?>domain:,0";
$dtd[]=".war.net.id,whois.pandi.or.id,domain not found,0";
$dtd[]=".web.id,whois.id,domain not found,0";
$dtd[]=".sch.id,whois.id,domain not found,0";
$dtd[]=".go.id,whois.id,domain not found,0";
$dtd[]=".ac.id,whois.id,domain not found,0";
$dtd[]=".co.id,whois.id,domain not found,0";
$dtd[]=".or.id,whois.id,domain not found,0";
$dtd[]=".net.id,whois.id,domain not found,0";
$dtd[]=".mil.id,whois.id,domain not found,0";
$dtd[]=".ie,whois.domainregistry.ie,not registered,0";
$dtd[]=".ac.il,whois.isoc.org.il,no data was found,0";
$dtd[]=".co.il,whois.isoc.org.il,no data was found,0";
$dtd[]=".gov.il,whois.isoc.org.il,no data was found,0";
$dtd[]=".idf.il,whois.isoc.org.il,no data was found,0";
$dtd[]=".k12.il,whois.isoc.org.il,no data was found,0";
$dtd[]=".muni.il,whois.isoc.org.il,no data was found,0";
$dtd[]=".net.il,whois.isoc.org.il,no data was found,0";
$dtd[]=".org.il,whois.isoc.org.il,no data was found,0";
$dtd[]=".im,whois.nic.im,not found,0";
$dtd[]=".co.in,whois.inregistry.net,not found,0";
$dtd[]=".net.in,whois.inregistry.net,not found,0";
$dtd[]=".org.in,whois.inregistry.net,not found,0";
$dtd[]=".gen.in,whois.inregistry.net,not found,0";
$dtd[]=".firm.in,whois.inregistry.net,not found,0";
$dtd[]=".ind.in,whois.inregistry.net,not found,0";
$dtd[]=".in,whois.inregistry.net,not found,0";
$dtd[]=".io,whois.nic.io,available for purchase,0";
$dtd[]=".ac.ir,whois.nic.ir,no entries found,0";
$dtd[]=".co.ir,whois.nic.ir,no entries found,0";
$dtd[]=".gov.ir,whois.nic.ir,no entries found,0";
$dtd[]=".id.ir,whois.nic.ir,no entries found,0";
$dtd[]=".net.ir,whois.nic.ir,no entries found,0";
$dtd[]=".org.ir,whois.nic.ir,no entries found,0";
$dtd[]=".sch.ir,whois.nic.ir,no entries found,0";
$dtd[]=".ir,whois.nic.ir,no entries found,0";
$dtd[]=".is,whois.isnet.is,no entries found,0";
$dtd[]=".it,whois.nic.it,available,0";
$dtd[]=".je,whois.channelisles.net,domain not found,0";
$dtd[]=".jobs,jobswhois.verisign-grs.com,no match,0";
$dtd[]=".ac.jp,whois.jprs.jp,no match,0";
$dtd[]=".ad.jp,whois.jprs.jp,no match,0";
$dtd[]=".co.jp,whois.jprs.jp,no match,0";
$dtd[]=".ed.jp,whois.jprs.jp,no match,0";
$dtd[]=".go.jp,whois.jprs.jp,no match,0";
$dtd[]=".ne.jp,whois.jprs.jp,no match,0";
$dtd[]=".or.jp,whois.jprs.jp,no match,0";
$dtd[]=".geo.jp,whois.jprs.jp,no match,0";
$dtd[]=".jp,whois.jprs.jp,no match,0";
$dtd[]=".ac.ke,whois.kenic.or.ke,no match,0";
$dtd[]=".co.ke,whois.kenic.or.ke,no match,0";
$dtd[]=".go.ke,whois.kenic.or.ke,no match,0";
$dtd[]=".ne.ke,whois.kenic.or.ke,no match,0";
$dtd[]=".or.ke,whois.kenic.or.ke,no match,0";
$dtd[]=".sc.ke,whois.kenic.or.ke,no match,0";
$dtd[]=".ac.kr,whois.krnic.net,domain name is not,0";
$dtd[]=".co.kr,whois.krnic.net,domain name is not,0";
$dtd[]=".go.kr,whois.krnic.net,domain name is not,0";
$dtd[]=".ne.kr,whois.krnic.net,domain name is not,0";
$dtd[]=".or.kr,whois.krnic.net,domain name is not,0";
$dtd[]=".pe.kr,whois.krnic.net,domain name is not,0";
$dtd[]=".re.kr,whois.krnic.net,domain name is not,0";
$dtd[]=".seoul.kr,whois.krnic.net,domain name is not,0";
$dtd[]=".kyonggi.kr,whois.krnic.net,domain name is not,0";
$dtd[]=".kz,whois.nic.kz,nothing found for this query,0";
$dtd[]=".la,whois.nic.la,not found,0";
$dtd[]=".li,*chwhois,do not have an entry,1";
$dtd[]=".lt,whois.ripe.net,no matches found,0";
$dtd[]=".lu,*luwhois,free,0";
$dtd[]=".ly,whois.nic.ly,not found,0";
$dtd[]=".asn.lv,whois.ripe.net,nothing found,0";
$dtd[]=".com.lv,whois.ripe.net,nothing found,0";
$dtd[]=".conf.lv,whois.ripe.net,nothing found,0";
$dtd[]=".edu.lv,whois.ripe.net,nothing found,0";
$dtd[]=".gov.lv,whois.ripe.net,nothing found,0";
$dtd[]=".id.lv,whois.ripe.net,nothing found,0";
$dtd[]=".mil.lv,whois.ripe.net,nothing found,0";
$dtd[]=".net.lv,whois.ripe.net,nothing found,0";
$dtd[]=".org.lv,whois.ripe.net,nothing found,0";
$dtd[]=".lv,whois.ripe.net,nothing found,0";
$dtd[]=".co.ma,whois.iam.net.ma,no objects found,0";
$dtd[]=".net.ma,whois.iam.net.ma,no objects found,0";
$dtd[]=".org.ma,whois.iam.net.ma,no objects found,0";
$dtd[]=".ac.ma,whois.iam.net.ma,no objects found,0";
$dtd[]=".ma,whois.iam.net.ma,no objects found,0";
$dtd[]=".tm.mc,whois.ripe.net,no entries found,0";
$dtd[]=".asso.mc,whois.ripe.net,no entries found,0";
$dtd[]=".mc,whois.ripe.net,no entries found,0";
$dtd[]=".md,whois.nic.md,no match,0";
$dtd[]=".me,whois.nic.me,not found,0";
$dtd[]=".mn,whois.nic.mn,domain not found,0";
$dtd[]=".mobi,whois.dotmobiregistry.net,not found,0";
$dtd[]=".ms,whois.adamsnames.tc,not registered,0";
$dtd[]=".com.mt,whois.nic.org.mt,domain is not registered,0";
$dtd[]=".edu.mt,whois.nic.org.mt,domain is not registered,0";
$dtd[]=".net.mt,whois.nic.org.mt,domain is not registered,0";
$dtd[]=".org.mt,whois.nic.org.mt,domain is not registered,0";
$dtd[]=".tm.mt,whois.nic.org.mt,domain is not registered,0";
$dtd[]=".uu.mt,whois.nic.org.mt,domain is not registered,0";
$dtd[]=".mt,whois.nic.org.mt,domain is not registered,0";
$dtd[]=".mu,whois.nic.mu,not registered,0";
$dtd[]=".com.mx,whois.mx,object_not_found,0";
$dtd[]=".edu.mx,whois.mx,object_not_found,0";
$dtd[]=".gob.mx,whois.mx,object_not_found,0";
$dtd[]=".net.mx,whois.mx,object_not_found,0";
$dtd[]=".org.mx,whois.mx,object_not_found,0";
$dtd[]=".mx,whois.mx,object_not_found,0";
$dtd[]=".com.my,whois.mynic.my,does not exist,0";
//$dtd[]=".com.my,*mywhois,does not exist,0";
$dtd[]=".net.my,whois.mynic.my,does not exist,0";
$dtd[]=".org.my,whois.mynic.my,does not exist,0";
$dtd[]=".gov.my,whois.mynic.my,does not exist,0";
$dtd[]=".edu.my,whois.mynic.my,does not exist,0";
$dtd[]=".mil.my,whois.mynic.my,does not exist,0";
$dtd[]=".my,whois.mynic.my,does not exist,0";
$dtd[]=".com.na,whois.na-nic.com.na,not registered,0";
$dtd[]=".org.na,whois.na-nic.com.na,not registered,0";
$dtd[]=".alt.na,whois.na-nic.com.na,not registered,0";
$dtd[]=".co.na,whois.na-nic.com.na,not registered,0";
$dtd[]=".edu.na,whois.na-nic.com.na,not registered,0";
$dtd[]=".net.na,whois.na-nic.com.na,not registered,0";
$dtd[]=".nf,whois.nic.cx,!!!dom!!!!!!domt!!!\nstatus: not registered,0";
$dtd[]=".com.ng,whois.nic.net.ng,not registered,0";
$dtd[]=".net.ng,whois.nic.net.ng,not registered,0";
$dtd[]=".org.ng,whois.nic.net.ng,not registered,0";
$dtd[]=".gov.ng,whois.nic.net.ng,not registered,0";
$dtd[]=".edu.ng,whois.nic.net.ng,not registered,0";
$dtd[]=".sch.ng,whois.nic.net.ng,not registered,0";
$dtd[]=".mobi.ng,whois.nic.net.ng,not registered,0";
$dtd[]=".name.ng,whois.nic.net.ng,not registered,0";
$dtd[]=".biz.ng,whois.nic.net.ng,not registered,0";
$dtd[]=".ng,whois.nic.net.ng,not registered,0";
$dtd[]=".nl,*nlwhois,is free,0";
$dtd[]=".co.nl,whois.co.nl,does no match,0";
$dtd[]=".priv.no,whois.norid.no,no match,1";
$dtd[]=".no,whois.norid.no,no match,1";
$dtd[]=".nu,whois.nic.nu,not found,0";
$dtd[]=".com.pe,kero.yachay.pe,not registered,0";
$dtd[]=".net.pe,kero.yachay.pe,not registered,0";
$dtd[]=".edu.pe,kero.yachay.pe,not registered,0";
$dtd[]=".org.pe,kero.yachay.pe,not registered,0";
$dtd[]=".gob.pe,kero.yachay.pe,not registered,0";
$dtd[]=".mil.pe,kero.yachay.pe,not registered,0";
$dtd[]=".nom.pe,kero.yachay.pe,not registered,0";
$dtd[]=".pe,kero.yachay.pe,not registered,0";
$dtd[]=".com.ph,*phwhois,no match,0";
$dtd[]=".net.ph,*phwhois,no match,0";
$dtd[]=".org.ph,*phwhois,no match,0";
$dtd[]=".ngo.ph,*phwhois,no match,0";
$dtd[]=".ph,*phwhois,no match,0";
$dtd[]=".com.pk,whois.pknic.pk,no active domain,0";
$dtd[]=".edu.pk,whois.pknic.pk,no active domain,0";
$dtd[]=".pk,whois.pknic.pk,no active domain,0";
$dtd[]=".biz.pl,whois.dns.pl,no information,0";
$dtd[]=".co.pl,whois.co.pl,no results,0";
$dtd[]=".com.pl,whois.dns.pl,no information,0";
$dtd[]=".net.pl,whois.dns.pl,no information,0";
$dtd[]=".org.pl,whois.dns.pl,no information,0";
$dtd[]=".info.pl,whois.dns.pl,no information,0";
$dtd[]=".pl,whois.dns.pl,no information,0";
$dtd[]=".cpa.pro,whois.registrypro.pro,no match,0";
$dtd[]=".eng.pro,whois.registrypro.pro,no match,0";
$dtd[]=".law.pro,whois.registrypro.pro,no match,0";
$dtd[]=".med.pro,whois.registrypro.pro,no match,0";
$dtd[]=".pro,whois.registrypro.pro,no match,0";
$dtd[]=".pt,whois.dns.pt,no match,0";
$dtd[]=".com.pt,whois.dns.pt,no match,0";
$dtd[]=".nome.pt,whois.dns.pt,no match,0";
$dtd[]=".pt,whois.dns.pt,no match,0";
$dtd[]=".ac.nz,whois.domainz.net.nz,available,0";
$dtd[]=".co.nz,whois.domainz.net.nz,available,0";
$dtd[]=".cri.nz,whois.domainz.net.nz,available,0";
$dtd[]=".gen.nz,whois.domainz.net.nz,available,0";
$dtd[]=".govt.nz,whois.domainz.net.nz,available,0";
$dtd[]=".iwi.nz,whois.domainz.net.nz,available,0";
$dtd[]=".net.nz,whois.domainz.net.nz,available,0";
$dtd[]=".org.nz,whois.domainz.net.nz,available,0";
$dtd[]=".mil.nz,whois.domainz.net.nz,available,0";
$dtd[]=".pm,whois.nic.fr,no entries found,0";
$dtd[]=".school.nz,whois.domainz.net.nz,not listed,0";
$dtd[]=".re,whois.nic.fr,no entries found,0";
$dtd[]=".arts.ro,whois.rotld.ro,no entries,0";
$dtd[]=".com.ro,whois.rotld.ro,no entries,0";
$dtd[]=".firm.ro,whois.rotld.ro,no entries,0";
$dtd[]=".info.ro,whois.rotld.ro,no entries,0";
$dtd[]=".nom.ro,whois.rotld.ro,no entries,0";
$dtd[]=".nt.ro,whois.rotld.ro,no entries,0";
$dtd[]=".org.ro,whois.rotld.ro,no entries,0";
$dtd[]=".rec.ro,whois.rotld.ro,no entries,0";
$dtd[]=".store.ro,whois.rotld.ro,no entries,0";
$dtd[]=".tm.ro,whois.rotld.ro,no entries,0";
$dtd[]=".www.ro,whois.rotld.ro,no entries,0";
$dtd[]=".ro,whois.rotld.ro,no entries,0";
$dtd[]=".co.rs,whois.rnids.rs,not registered,0";
$dtd[]=".org.rs,whois.rnids.rs,not registered,0";
$dtd[]=".edu.rs,whois.rnids.rs,not registered,0";
$dtd[]=".in.rs,whois.rnids.rs,not registered,0";
$dtd[]=".rs,whois.rnids.rs,not registered,0";
$dtd[]=".com.ru,whois.ripn.net,no entries found,0";
$dtd[]=".net.ru,whois.ripn.net,no entries found,0";
$dtd[]=".org.ru,whois.ripn.net,no entries found,0";
$dtd[]=".ru,whois.ripn.net,no entries found,0";
$dtd[]=".com.sa,*sawhois,not registered,0";
$dtd[]=".edu.sa,*sawhois,not registered,0";
$dtd[]=".gov.sa,*sawhois,not registered,0";
$dtd[]=".med.sa,*sawhois,not registered,0";
$dtd[]=".net.sa,*sawhois,not registered,0";
$dtd[]=".org.sa,*sawhois,not registered,0";
$dtd[]=".pub.sa,*sawhois,not registered,0";
$dtd[]=".sch.sa,*sawhois,not registered,0";
$dtd[]=".sb,whois.nic.net.sb,no data found,0";
$dtd[]=".sc,whois2.afilias-grs.net,not found,0";
$dtd[]=".pp.se,whois.nic-se.se,not found,0";
$dtd[]=".press.se,whois.nic-se.se,not found,0";
$dtd[]=".org.se,whois.nic-se.se,not found,0";
$dtd[]=".se,whois.nic-se.se,not found,1";
$dtd[]=".com.sg,whois.nic.net.sg,domain not found,0";
$dtd[]=".edu.sg,whois.nic.net.sg,domain not found,0";
$dtd[]=".gov.sg,whois.nic.net.sg,domain not found,0";
$dtd[]=".net.sg,whois.nic.net.sg,domain not found,0";
$dtd[]=".org.sg,whois.nic.net.sg,domain not found,0";
$dtd[]=".per.sg,whois.nic.net.sg,domain not found,0";
$dtd[]=".sg,whois.nic.net.sg,domain not found,0";
$dtd[]=".com.sh,whois.nic.sh,no match,0";
$dtd[]=".co.sh,whois.nic.sh,no match,0";
$dtd[]=".net.sh,whois.nic.sh,no match,0";
$dtd[]=".org.sh,whois.nic.sh,no match,0";
$dtd[]=".edu.sh,whois.nic.sh,no match,0";
$dtd[]=".gov.sh,whois.nic.sh,no match,0";
$dtd[]=".mil.sh,whois.nic.sh,no match,0";
$dtd[]=".sh,whois.nic.sh,no match,0";
$dtd[]=".si,whois.arnes.si,no entries,0";
$dtd[]=".sk,whois.sk-nic.sk,not found,0";
$dtd[]=".sm,whois.ripe.net,no entries found,0";
$dtd[]=".st,whois.nic.st,no entries found,0";
$dtd[]=".su,whois.ripn.net,no entries,0";
$dtd[]=".tc,whois.adamsnames.tc,not registered,0";
$dtd[]=".tel,whois.nic.tel,not found,0";
$dtd[]=".tf,whois.adamsnames.tc,not registered,0";
$dtd[]=".ac.th,whois.thnic.net,no entries found,0";
$dtd[]=".co.th,whois.thnic.net,no entries found,0";
$dtd[]=".go.th,whois.thnic.net,no entries found,0";
$dtd[]=".in.th,whois.thnic.net,no entries found,0";
$dtd[]=".mi.th,whois.thnic.net,no entries found,0";
$dtd[]=".net.th,whois.thnic.net,no entries found,0";
$dtd[]=".or.th,whois.thnic.net,no entries found,0";
$dtd[]=".tj,whois.nic.tj,no match for,0";
$dtd[]=".tk,whois.dot.tk,not known,0";
$dtd[]=".tl,whois.nic.tl,!!!dom!!!!!!domt!!!\nstatus: not registered,0";
$dtd[]=".tm,whois.nic.tm,no match,0";
$dtd[]=".to,whois.tonic.to,no match,0";
$dtd[]=".tp,whois.nic.tl,!!!dom!!!!!!domt!!!\nstatus: not registered,0";
$dtd[]=".bbs.tr,whois.metu.edu.tr,no match,0";
$dtd[]=".com.tr,whois.metu.edu.tr,no match,0";
$dtd[]=".edu.tr,whois.metu.edu.tr,no match,0";
$dtd[]=".gen.tr,whois.metu.edu.tr,no match,0";
$dtd[]=".gov.tr,whois.metu.edu.tr,no match,0";
$dtd[]=".k12.tr,whois.metu.edu.tr,no match,0";
$dtd[]=".mil.tr,whois.metu.edu.tr,no match,0";
$dtd[]=".net.tr,whois.metu.edu.tr,no match,0";
$dtd[]=".nom.tr,whois.metu.edu.tr,no match,0";
$dtd[]=".org.tr,whois.metu.edu.tr,no match,0";
$dtd[]=".web.tr,whois.metu.edu.tr,no match,0";
$dtd[]=".travel,whois.nic.travel,not found,0";
//$dtd[]=".tv,*tvwhois,is available,0";
$dtd[]=".tv,whois.nic.tv,no match,0";
$dtd[]=".com.tw,whois.twnic.net.tw,no found,0";
$dtd[]=".ebiz.tw,whois.twnic.net.tw,no found,0";
$dtd[]=".club.tw,whois.twnic.net.tw,no found,0";
$dtd[]=".game.tw,whois.twnic.net.tw,no found,0";
$dtd[]=".idv.tw,whois.twnic.net.tw,no found,0";
$dtd[]=".net.tw,whois.twnic.net.tw,no found,0";
$dtd[]=".org.tw,whois.twnic.net.tw,no found,0";
$dtd[]=".tw,whois.twnic.net.tw,no found,0";
$dtd[]=".com.ua,whois.com.ua,no entries,0";
$dtd[]=".edu.ua,whois.com.ua,no entries,0";
$dtd[]=".gov.ua,whois.com.ua,no entries,0";
$dtd[]=".org.ua,whois.com.ua,no entries,0";
$dtd[]=".net.ua,whois.com.ua,no entries,0";
$dtd[]=".odessa.ua,whois.com.ua,no such domain,0";
$dtd[]=".ua,whois.com.ua,no entries,0";
$dtd[]=".ug,whois.co.ug,no entries,0";
$dtd[]=".co.ug,whois.co.ug,no entries,0";
$dtd[]=".or.ug,whois.co.ug,no entries,0";
$dtd[]=".ac.ug,whois.co.ug,no entries,0";
$dtd[]=".sc.ug,whois.co.ug,no entries,0";
$dtd[]=".go.ug,whois.co.ug,no entries,0";
$dtd[]=".ne.ug,whois.co.ug,no entries,0";
$dtd[]=".org.ug,whois.co.ug,no entries,0";
$dtd[]=".mil.ug,whois.co.ug,no entries,0";

// The following uses Nominets standard whois server
$dtd[]=".co.uk,whois.nic.uk,no match,0";
$dtd[]=".ltd.uk,whois.nic.uk,no match,0";
$dtd[]=".me.uk,whois.nic.uk,no match,0";
$dtd[]=".net.uk,whois.nic.uk,no match,0";
$dtd[]=".org.uk,whois.nic.uk,no match,0";
$dtd[]=".plc.uk,whois.nic.uk,no match,0";
$dtd[]=".sch.uk,whois.nic.uk,no match,0";
$dtd[]=".uk,whois.nic.uk,no match,0";

// To use Nominets whois2 server comment out the above and remove comments below
//$dtd[]=".co.uk,*ukwhois,no match,0";
//$dtd[]=".ltd.uk,*ukwhois,no match,0";
//$dtd[]=".me.uk,*ukwhois,no match,0";
//$dtd[]=".net.uk,*ukwhois,no match,0";
//$dtd[]=".org.uk,*ukwhois,no match,0";
//$dtd[]=".plc.uk,*ukwhois,no match,0";
//$dtd[]=".sch.uk,*ukwhois,no match,0";
$dtd[]=".ac.uk,whois.ja.net,no such domain,0";
$dtd[]=".gov.uk,whois.ja.net,no such domain,0";
$dtd[]=".uk.co,whois.uk.co,no matches,0";
$dtd[]=".us,whois.nic.us,not found,0";
$dtd[]=".com.uy,nic.uy,no match,0";
$dtd[]=".org.uy,nic.uy,no match,0";
$dtd[]=".net.uy,nic.uy,no match,0";
$dtd[]=".edu.uy,nic.uy,no match,0";
$dtd[]=".gub.uy,nic.uy,no match,0";
$dtd[]=".mil.uy,nic.uy,no match,0";
$dtd[]=".uz,whois.cctld.uz,not found,0";
$dtd[]=".va,whois.ripe.net,no entries found,0";
$dtd[]=".vc,whois2.afilias-grs.net,not found,0";
$dtd[]=".wf,whois.nic.wf,no entries,0";
// $dtd[]=".co.ve,whois.nic.ve,no match,0";
// $dtd[]=".com.ve,whois.nic.ve,no match,0";
// $dtd[]=".net.ve,whois.nic.ve,no match,0";
// $dtd[]=".web.ve,whois.nic.ve,no match,0";
// $dtd[]=".nom.ve,whois.nic.ve,no match,0";
// $dtd[]=".firm.ve,whois.nic.ve,no match,0";
// $dtd[]=".store.ve,whois.nic.ve,no match,0";
// $dtd[]=".rec.ve,whois.nic.ve,no match,0";
// $dtd[]=".info.ve,whois.nic.ve,no match,0";
// $dtd[]=".org.ve,whois.nic.ve,no match,0";
// $dtd[]=".ve,whois.nic.ve,no match,0";

$dtd[]=".co.ve,*vewhois,no match,0";
$dtd[]=".com.ve,*vewhois,no match,0";
$dtd[]=".net.ve,*vewhois,no match,0";
$dtd[]=".web.ve,*vewhois,no match,0";
$dtd[]=".nom.ve,*vewhois,no match,0";
$dtd[]=".firm.ve,*vewhois,no match,0";
$dtd[]=".store.ve,*vewhois,no match,0";
$dtd[]=".rec.ve,*vewhois,no match,0";
$dtd[]=".info.ve,*vewhois,no match,0";
$dtd[]=".org.ve,*vewhois,no match,0";
$dtd[]=".ve,*vewhois,no match,0";

$dtd[]=".vg,whois.adamsnames.tc,not registered,0";

$dtd[]=".wales.com,whois.wales.com,no match,0";
$dtd[]=".wales.org,whois.wales.com,no match,0";
$dtd[]=".wales.net,whois.wales.com,no match,0";
$dtd[]=".cymru.org,whois.wales.com,no match,0";
$dtd[]=".com.ws,whois.nic.ws,no match,0";
$dtd[]=".edu.ws,whois.nic.ws,no match,0";
$dtd[]=".gov.ws,whois.nic.ws,no match,0";
$dtd[]=".net.ws,whois.nic.ws,no match,0";
$dtd[]=".org.ws,whois.nic.ws,no match,0";
$dtd[]=".ws,whois.nic.ws,no match,0";
$dtd[]=".co.za,*zawhois,no matches,0";
$dtd[]=".org.za,*orgzawhois,no matches,0";
$dtd[]=".gov.za,*govzawhois,no matches,0";
$dtd[]=".co.zw,*cozwwhois,no matches,0";
$dtd[]=".au.com,whois.au.com,no domains,0";
$dtd[]=".br.com,whois.centralnic.com,not found,0";
$dtd[]=".cn.com,whois.centralnic.com,not found,0";
$dtd[]=".de.com,whois.centralnic.com,not found,0";
$dtd[]=".eu.com,whois.centralnic.com,not found,0";
$dtd[]=".eu.org,whois.eu.org,no entries found,0";
$dtd[]=".gb.com,whois.centralnic.com,not found,0";
$dtd[]=".gb.net,whois.centralnic.com,not found,0";
$dtd[]=".hu.com,whois.centralnic.com,not found,0";
$dtd[]=".no.com,whois.centralnic.com,not found,0";
$dtd[]=".qc.com,whois.centralnic.com,not found,0";
$dtd[]=".ru.com,whois.centralnic.com,not found,0";
$dtd[]=".sa.com,whois.centralnic.com,not found,0";
$dtd[]=".se.com,whois.centralnic.com,not found,0";
$dtd[]=".se.net,whois.centralnic.com,not found,0";
$dtd[]=".uk.com,whois.centralnic.com,not found,0";
$dtd[]=".uk.net,whois.centralnic.com,not found,0";
$dtd[]=".us.com,whois.centralnic.com,not found,0";
$dtd[]=".uy.com,whois.centralnic.com,not found,0";
$dtd[]=".uz,whois.cctld.uz,not found,0";
$dtd[]=".za.com,whois.centralnic.com,not found,0";
$dtd[]=".za.net,whois.za.net,no such domain,0";
$dtd[]=".za.org,whois.za.net,no such domain,0";
$dtd[]=".aero,whois.information.aero,is not registered,0";
$dtd[]=".com,whois.crsnic.net,no match,1";
$dtd[]=".net,whois.crsnic.net,no match,1";
$dtd[]=".org,whois.publicinterestregistry.net,not found,0";
$dtd[]=".info,whois.afilias.net,not found,0";
$dtd[]=".museum,whois.museum,is available,0";
$dtd[]=".name,whois.nic.name,no match,1";
$dtd[]=".biz,whois.biz,no data found,0";
$dtd[]=".cc,whois.nic.cc,no match,0";
$dtd[]=".edu,whois.educause.net,no match,0";
$dtd[]=".mil,whois.nic.mil,no match,0";
$dtd[]=".int,whois.iana.org,not found,0";
$dtd[]=".coop,whois.nic.coop,no objects found,0";
$dtd[]=".gov,whois.dotgov.gov,not found,0";
$dtd[]=".com.ec,ns,not found,0";

$dtd[]=".abogado,ns,not found,0";
$dtd[]=".academy,whois.donuts.co,domain not found,0";
$dtd[]=".accountants,whois.donuts.co,domain not found,0";
$dtd[]=".actor,whois.unitedtld.com,domain not found,0";
$dtd[]=".agency,whois.donuts.co,domain not found,0"; 
$dtd[]=".airforce,whois.unitedtld.com,domain not found,0"; 
$dtd[]=".alsace,whois-alsace.nic.fr,object does not exist,0"; 
$dtd[]=".amsterdam,whois.nic.amsterdam,domain status: free,0"; 
$dtd[]=".apartments,whois.donuts.co,domain not found,0"; 
$dtd[]=".archi,whois.ksregistry.net,object does not exist,0"; 
$dtd[]=".army,whois.rightside.co,domain not found,0"; 
$dtd[]=".associates,whois.donuts.co,domain not found,0";
$dtd[]=".auction,whois.unitedtld.com,domain not found,0";
$dtd[]=".audio,whois.uniregistry.net,is available for registration,0";
$dtd[]=".bar,whois.nic.bar,domain not found,0";
$dtd[]=".bargains,whois.donuts.co,domain not found,0";
$dtd[]=".beer,whois-dub.mm-registry.com,not registered,0";
$dtd[]=".bid,whois.nic.bid,not found,0";
$dtd[]=".bike,whois.donuts.co,domain not found,0";   
$dtd[]=".brussels,whois.nic.brussels,does not exist,0";   
$dtd[]=".build,whois.nic.build,no data found,0";    
$dtd[]=".builders,whois.donuts.co,domain not found,0";
$dtd[]=".cab,whois.donuts.co,domain not found,0";    
$dtd[]=".camera,whois.donuts.co,domain not found,0"; 
$dtd[]=".camp,whois.donuts.co,domain not found,0";   
$dtd[]=".cards,whois.donuts.co,domain not found,0";
$dtd[]=".care,whois.donuts.co,domain not found,0";
$dtd[]=".careers,whois.donuts.co,domain not found,0";
$dtd[]=".cash,whois.donuts.co,domain not found,0";
$dtd[]=".cat,whois.cat,not found,0";
$dtd[]=".catering,whois.donuts.co,domain not found,0";
$dtd[]=".center,whois.donuts.co,domain not found,0"; 
$dtd[]=".cheap,whois.donuts.co,domain not found,0";
$dtd[]=".christmas,whois.uniregistry.net,is available for registration,0";
$dtd[]=".church,whois.donuts.co,domain not found,0";
$dtd[]=".city,whois.donuts.co,domain not found,0";
$dtd[]=".claims,whois.donuts.co,domain not found,0";
$dtd[]=".cleaning,whois.donuts.co,domain not found,0";
$dtd[]=".click,whois.uniregistry.net,is available for registration,0";
$dtd[]=".clinic,whois.donuts.co,domain not found,0";
$dtd[]=".clothing,whois.donuts.co,domain not found,0";
$dtd[]=".club,whois.nic.club,not found,0";
$dtd[]=".cologne,whois-fe1.pdt.cologne.tango.knipp.de,no matching objects found,0";
$dtd[]=".codes,whois.donuts.co,domain not found,0";  
$dtd[]=".coffee,whois.donuts.co,domain not found,0"; 
$dtd[]=".company,whois.donuts.co,domain not found,0";
$dtd[]=".community,whois.donuts.co,domain not found,0";
$dtd[]=".computer,whois.donuts.co,domain not found,0";
$dtd[]=".condos,whois.donuts.co,domain not found,0";
$dtd[]=".construction,whois.donuts.co,domain not found,0";
$dtd[]=".consulting,whois.unitedtld.com,domain not found,0";
$dtd[]=".contractors,whois.donuts.co,domain not found,0";
$dtd[]=".cooking,whois-dub.mm-registry.com,not registered,0";
$dtd[]=".cool,whois.donuts.co,domain not found,0";
$dtd[]=".country,whois-dub.mm-registry.com,not registered,0";
$dtd[]=".credit,whois.donuts.co,domain not found,0";
$dtd[]=".creditcard,whois.donuts.co,domain not found,0";
$dtd[]=".cruises,whois.donuts.co,domain not found,0";
$dtd[]=".dance,whois.unitedtld.com,domain not found,0";
$dtd[]=".dating,whois.donuts.co,domain not found,0";
$dtd[]=".deals,whois.donuts.co,domain not found,0";
$dtd[]=".degree,whois.rightside.co,domain not found,0";
$dtd[]=".dental,whois.donuts.co,domain not found,0";
$dtd[]=".diet,whois.uniregistry.net,is available for registration,0";
$dtd[]=".digital,whois.donuts.co,domain not found,0";
$dtd[]=".direct,whois.donuts.co,domain not found,0";
$dtd[]=".directory,whois.donuts.co,domain not found,0";
$dtd[]=".discount,whois.donuts.co,domain not found,0";
$dtd[]=".domains,whois.donuts.co,domain not found,0";
$dtd[]=".education,whois.donuts.co,domain not found,0";
$dtd[]=".email,whois.donuts.co,domain not found,0";  
$dtd[]=".engineer,whois.rightside.co,domain not found,0";
$dtd[]=".engineering,whois.donuts.co,domain not found,0";  
$dtd[]=".enterprises,whois.donuts.co,domain not found,0";
$dtd[]=".equipment,whois.donuts.co,domain not found,0";
$dtd[]=".estate,whois.donuts.co,domain not found,0"; 
$dtd[]=".events,whois.donuts.co,domain not found,0";  
$dtd[]=".exchange,whois.donuts.co,domain not found,0";  
$dtd[]=".expert,whois.donuts.co,domain not found,0"; 
$dtd[]=".exposed,whois.donuts.co,domain not found,0";
$dtd[]=".fail,whois.donuts.co,domain not found,0";  
$dtd[]=".farm,whois.donuts.co,domain not found,0";   
$dtd[]=".finance,whois.donuts.co,domain not found,0";  
$dtd[]=".financial,whois.donuts.co,domain not found,0";  
$dtd[]=".fish,whois.donuts.co,domain not found,0";  
$dtd[]=".fishing,whois-dub.mm-registry.com,not registered,0";
$dtd[]=".fitness,whois.donuts.co,domain not found,0";  
$dtd[]=".flights,whois.donuts.co,domain not found,0";
$dtd[]=".florist,whois.donuts.co,domain not found,0";
$dtd[]=".forsale,whois.rightside.co,domain not found,0";
$dtd[]=".foundation,whois.donuts.co,domain not found,0";
$dtd[]=".fund,whois.donuts.co,domain not found,0";
$dtd[]=".furniture,whois.donuts.co,domain not found,0";
$dtd[]=".futbol,whois.unitedtld.com,domain not found,0";
$dtd[]=".gallery,whois.donuts.co,domain not found,0";
$dtd[]=".gifts,whois.uniregistry.net,is available for registration,0";
$dtd[]=".gives,whois.rightside.co,domain not found,0";
$dtd[]=".glass,whois.donuts.co,domain not found,0";  
$dtd[]=".global,whois.afilias-srs.net,not found,0";  
$dtd[]=".graphics,whois.donuts.co,domain not found,0";
$dtd[]=".gratis,whois.donuts.co,domain not found,0";
$dtd[]=".gripe,whois.donuts.co,domain not found,0";
$dtd[]=".guide,whois.donuts.co,domain not found,0";
$dtd[]=".guru,whois.donuts.co,domain not found,0";   
$dtd[]=".haus,whois.unitedtld.com,domain not found,0";
$dtd[]=".healthcare,whois.donuts.co,domain not found,0";   
$dtd[]=".help,whois.uniregistry.net,is available for registration,0";
$dtd[]=".hiphop,whois.uniregistry.net,is available for registration,0";
$dtd[]=".hiv,whois.afilias-srs.net,not found,0";  
$dtd[]=".holdings,whois.donuts.co,domain not found,0";
$dtd[]=".holiday,whois.donuts.co,domain not found,0";
$dtd[]=".horse,whois-dub.mm-registry.com,not registered,0";
$dtd[]=".host,whois.nic.host,domain not found,0";
$dtd[]=".hosting,whois.uniregistry.net,is available for registration,0";
$dtd[]=".house,whois.donuts.co,domain not found,0";  
$dtd[]=".how,domain-registry-whois.l.google.com,domain not found,0";  
$dtd[]=".industries,whois.donuts.co,domain not found,0";
$dtd[]=".ink,whois.donuts.co,domain not found,0";    
$dtd[]=".institute,whois.donuts.co,domain not found,0";
$dtd[]=".international,whois.donuts.co,domain not found,0";
$dtd[]=".insure,whois.donuts.co,domain not found,0";
$dtd[]=".investments,whois.donuts.co,domain not found,0";
$dtd[]=".joburg,joburg-whois.registry.net.za,available,0";
$dtd[]=".kitchen,whois.donuts.co,domain not found,0";
$dtd[]=".kiwi,whois.nic.kiwi,not registered,0";
$dtd[]=".land,whois.donuts.co,domain not found,0";   
$dtd[]=".lawyer,whois.rightside.co,domain not found,0";
$dtd[]=".lease,whois.donuts.co,domain not found,0";
$dtd[]=".legal,whois.donuts.co,domain not found,0";
$dtd[]=".life,whois.donuts.co,domain not found,0";
$dtd[]=".lighting,whois.donuts.co,domain not found,0";
$dtd[]=".limited,whois.donuts.co,domain not found,0";
$dtd[]=".limo,whois.donuts.co,domain not found,0";   
$dtd[]=".loans,whois.donuts.co,domain not found,0";
$dtd[]=".london,whois-lon.mm-registry.com,not registered,0";   
$dtd[]=".luxury,whois.donuts.co,domain not found,0"; 
$dtd[]=".maison,whois.donuts.co,domain not found,0"; 
$dtd[]=".management,whois.donuts.co,domain not found,0";
$dtd[]=".market,whois.rightside.co,domain not found,0";
$dtd[]=".marketing,whois.donuts.co,domain not found,0";
$dtd[]=".media,whois.donuts.co,domain not found,0";
$dtd[]=".melbourne,whois.aridnrs.net.au,no data found,0";
$dtd[]=".menu,whois.nic.menu,no data found,0";      
$dtd[]=".money,whois.donuts.co,domain not found,0";  
$dtd[]=".mortgage,whois.rightside.co,domain not found,0";
$dtd[]=".network,whois.donuts.co,domain not found,0";  
$dtd[]=".ninja,whois.donuts.co,domain not found,0";  
$dtd[]=".nyc,whois.nic.nyc,not found,0";  
$dtd[]=".paris,whois-paris.nic.fr,requested domain cannot be found,0";  
$dtd[]=".partners,whois.donuts.co,domain not found,0";
$dtd[]=".parts,whois.donuts.co,domain not found,0";
$dtd[]=".physio,whois.nic.physio,no data found,0";
$dtd[]=".pictures,whois.donuts.co,domain not found,0";   
$dtd[]=".pink,whois.donuts.co,domain not found,0";   
$dtd[]=".pizza,whois.donuts.co,domain not found,0";   
$dtd[]=".photography,whois.donuts.co,domain not found,0";
$dtd[]=".photos,whois.donuts.co,domain not found,0"; 
$dtd[]=".place,whois.donuts.co,domain not found,0";   
$dtd[]=".plumbing,whois.donuts.co,domain not found,0";
$dtd[]=".press,whois.nic.press,domain not found,0";
$dtd[]=".productions,whois.donuts.co,domain not found,0";
$dtd[]=".properties,whois.donuts.co,domain not found,0";
$dtd[]=".property,whois.uniregistry.net,is available for registration,0";
$dtd[]=".pub,whois.unitedtld.com,domain not found,0";
$dtd[]=".quebec,whois.nic.quebec,no matching objects found,0";
$dtd[]=".recipes,whois.donuts.co,domain not found,0";
$dtd[]=".rehab,whois.rightside.co,domain not found,0";
$dtd[]=".rentals,whois.donuts.co,domain not found,0";   
$dtd[]=".repair,whois.donuts.co,domain not found,0"; 
$dtd[]=".report,whois.donuts.co,domain not found,0";   
$dtd[]=".republican,whois.rightside.co,domain not found,0";
$dtd[]=".rest,whois.centralnic.com,domain not found,0";
$dtd[]=".restaurant,whois.donuts.co,domain not found,0";   
$dtd[]=".reviews,whois.unitedtld.com,domain not found,0";
$dtd[]=".rocks,whois.unitedtld.com,domain not found,0";
$dtd[]=".rodeo,whois-dub.mm-registry.com,not registered,0";
$dtd[]=".services,whois.donuts.co,domain not found,0";   
$dtd[]=".sexy,whois.uniregistry.net,is available for registration,0";
$dtd[]=".shoes,whois.donuts.co,domain not found,0";  
$dtd[]=".singles,whois.donuts.co,domain not found,0";
$dtd[]=".social,whois.unitedtld.com,domain not found,0";
$dtd[]=".software,whois.rightside.co,domain not found,0";
$dtd[]=".solar,whois.donuts.co,domain not found,0";  
$dtd[]=".solutions,whois.donuts.co,domain not found,0";
$dtd[]=".supplies,whois.donuts.co,domain not found,0";
$dtd[]=".supply,whois.donuts.co,domain not found,0";
$dtd[]=".support,whois.donuts.co,domain not found,0";
$dtd[]=".surf,whois-dub.mm-registry.com,not registered,0";
$dtd[]=".surgery,whois.donuts.co,domain not found,0";
$dtd[]=".systems,whois.donuts.co,domain not found,0";
$dtd[]=".tattoo,whois.uniregistry.net,is available for registration,0";
$dtd[]=".tax,whois.donuts.co,domain not found,0";
$dtd[]=".technology,whois.donuts.co,domain not found,0";
$dtd[]=".tips,whois.donuts.co,domain not found,0";   
$dtd[]=".today,whois.donuts.co,domain not found,0";  
$dtd[]=".tokyo,whois.nic.tokyo,domain not found,0";  
$dtd[]=".tools,whois.donuts.co,domain not found,0";
$dtd[]=".town,whois.donuts.co,domain not found,0";
$dtd[]=".toys,whois.donuts.co,domain not found,0";
$dtd[]=".trade,whois.nic.trade,not found,0";
$dtd[]=".training,whois.donuts.co,domain not found,0";
$dtd[]=".university,whois.donuts.co,domain not found,0";
$dtd[]=".uno,whois.uno.nic,not found,0";             
$dtd[]=".vacations,whois.donuts.co,domain not found,0";
$dtd[]=".vegas,whois.afilias-srs.net,not found,0";  
$dtd[]=".ventures,whois.donuts.co,domain not found,0";
$dtd[]=".vet,whois.rightside.co,domain not found,0";
$dtd[]=".viajes,whois.donuts.co,domain not found,0"; 
$dtd[]=".villas,whois.donuts.co,domain not found,0"; 
$dtd[]=".video,whois.rightside.co,domain not found,0";
$dtd[]=".vision,whois.donuts.co,domain not found,0"; 
$dtd[]=".vlaanderen,whois.nic.vlaanderen,does not exist,0"; 
$dtd[]=".vodka,whois-dub.mm-registry.com,not registered,0";
$dtd[]=".voyage,whois.donuts.co,domain not found,0"; 
$dtd[]=".wales,whois.nic.wales,not been registered,0"; 
$dtd[]=".watch,whois.donuts.co,domain not found,0"; 
$dtd[]=".webcam,whois.nic.webcam,not found,0"; 
$dtd[]=".website,whois.nic.website,domain not found,0"; 
$dtd[]=".wedding,whois-dub.mm-registry.com,not registered,0";
$dtd[]=".wiki,whois.nic.wiki,domain not found,0"; 
$dtd[]=".work,whois-dub.mm-registry.com,not registered,0"; 
$dtd[]=".works,whois.donuts.co,domain not found,0"; 
$dtd[]=".world,whois.donuts.co,domain not found,0"; 
$dtd[]=".wtf,whois.donuts.co,domain not found,0"; 
$dtd[]=".xxx,whois.nic.xxx,not found,0";             
$dtd[]=".xyz,whois.nic.xyz,domain not found,0";             
$dtd[]=".zone,whois.donuts.co,domain not found,0"; 
$dtd[]=".gift,whois.uniregistry.net,is available,0"; 
$dtd[]=".guitars,whois.uniregistry.net,is available,0";
$dtd[]=".link,whois.uniregistry.net,is available,0"; 
$dtd[]=".photo,whois.uniregistry.net,is available,0";
$dtd[]=".pics,whois.uniregistry.net,is available,0"; 
$dtd[]=".tattoo,whois.uniregistry.net,is available,0";
$dtd[]=".sexy,whois.uniregistry.net,is available,0"; 
$dtd[]=".buzz,whois.nic.buzz,not found,0";           
$dtd[]=".blue,whois.afilias.net,not found,0";        
$dtd[]=".red,whois.afilias.net,not found,0";         
$dtd[]=".pink,whois.afilias.net,not found,0";        
$dtd[]=".black,whois.afilias.net,not found,0";       
$dtd[]=".kim,whois.afilias.net,not found,0";         
$dtd[]=".meet,whois.afilias.net,not found,0";        
$dtd[]=".shiksha,whois.afilias.net,not found,0"; 

////////////////////////////////////////////////////////////////////////////////////////////////////
@error_reporting(E_ERROR);
if (function_exists("mb_internal_encoding"))
  mb_internal_encoding("UTF-8");
if ($requireturing>0)
  session_start();

function cWhois($dom,$domt,&$RegDetails,$turing="",$turingused=1)
{
  global $dtd,$requireturing,$DefaultExtension;
  $IDN = new idna_convert();
  $fulllookup=true;
  if ($RegDetails=="*")
    $fulllookup=false;
  $dom=trim($dom);
  $domt=trim($domt);
  // Check referer
  if (1!=CheckReferer())
  {
    return(4); // Referer is  not allowed
  }
  if ((($requireturing==2) && ($RegDetails!="*")) || ($requireturing==1))
  {
    $turingmatch=false;
    if ((strtolower($_SESSION['ses_cwhoisturingcode'])==strtolower(trim($turing))) && ($_SESSION['ses_cwhoisturingcode']!=""))
    {
      $turingmatch=true;
      if ($turingused==1)
        $_SESSION['ses_cwhoisturingcode']="";
    }
    else if ((strtolower($_SESSION['ses_cwhoispreviousturingcode'])==strtolower(trim($turing))) && ($_SESSION['ses_cwhoispreviousturingcode']!=""))
    {
      $turingmatch=true;
      if ($turingused==1)
        $_SESSION['ses_cwhoispreviousturingcode']="";
    }
    // Check if turing hash code used for lookup related to earlier turing entry
    $verifyhash=md5($_SESSION['ses_cwhoishashkey'].$dom.$domt);
    if ($turing==$verifyhash)
    {
      $turingmatch=true; 
    }
    if (!$turingmatch)
      return(4);
  }
  $dom=accentstrtolower($dom);
  $domt=strtolower($domt);
  // Remove http://www. or www. if user added this
  if (strcmp("http://www.",substr($dom,0,11))==0)
    $dom=substr($dom,11,strlen($dom)-11);
  if (strcmp("www.",substr($dom,0,4))==0)
    $dom=substr($dom,4,strlen($dom)-4);
  if (strcmp("http://",substr($dom,0,7))==0)
    $dom=substr($dom,7,strlen($dom)-7);
  // If $domt is blank then try to get it
  $found=0;
  if ($domt=="")
  {
    // Treat .name slightly differently
    if (substr($dom,strlen($dom)-5,5)==".name")
    {
      $domt=".name";
      $dom=substr($dom,0,strlen($dom)-5);
      $found=1;
    }
    else
    {
      // Get domain extension by taking everything from first '.'
      $pos=strpos($dom,".");
      if (is_integer($pos))
      {
        $pdomt=substr($dom,$pos,strlen($dom)-$pos);
      }
      for ($index=0;$index<count($dtd);$index++)
      {
        $dt=strtok($dtd[$index],",");
        if (strcasecmp($dt,$pdomt)==0)
        {
          $domt=$pdomt;
          $dom=substr($dom,0,strlen($dom)-strlen($dt));
          $found=1;
          break;
        }
      }
    }    
    if ($found==0)
    {
      return(2); // Domain extension not recognised
    }
  }
  $serv="";
  for ($index=0;$index<count($dtd);$index++)
  {
    if (strtok($dtd[$index],",")==$domt)
    {
      $serv=strtok(",");
      $no=strtok(",");
      $idnallowed=strtok(",");
      break;
    }
  }
  if ($serv=="")
  {
    return(2); // Domain type not recognised
  }

  // Check for valid domain name
  // If domain supports idn then only check if not IDN type
  //  $dom = utf8_encode($dom);
  $idndom = $IDN->encode($dom.$domt);	
  if ( substr(strtolower($idndom),0,4) != "xn--" )
  {
    if (1!=CheckValidDomain($dom,$domt))
    {
      return(3); // Not a valid domain name
    }
  }
  $available=0;
  // Add support for domains that have no whois server but use a script to perform lookup.
  // Whois server is actually a function name flagged with a * as the first character which we remove.
  if (substr($serv,0,1)=="*")
  {
    $func=substr($serv,1,strlen($serv)-1);
    return($func($dom,$domt,$RegDetails)); // Return direct from handling function    
  }
  // If no whois server we can try a DNS check for a name server.
  if (strtolower(substr($serv,0,2))=="ns")
  {
    if ($RegDetails!="*")
      $RegDetails[]="Whois data not available";
    if (@checkdnsrr($dom.$domt,"NS")==false)
      return(0);
    return(1);  
  }
  // Connect using normal whois server method
  $noserv2=0;
  if ($RegDetails=="*")
  {
    $RegDetails="";
    $noserv2=1;
  }
  //exec("whois -h $serv $dom$domt",$RegDetails,$ReturnValue);
  //exec("fwhois $dom$domt@$serv",$RegDetails,$ReturnValue);
  $rsck=wh($serv,$dom,$domt,$RegDetails,$buf,$fulllookup);
  // If checking .com or .net then also try whois.internic.net instead if failed
  if (($domt==".com") || ($domt==".net"))
  {
    if ((count($RegDetails)<=1) || ($rsck==0))
    {
        $rsck=wh("whois.internic.net",$dom,$domt,$RegDetails,$buf,$fulllookup);
        if ((count($RegDetails)<=1) || ($rsck==0))
          return(5); // No connection of blocked etc for .com or .net
    }
  }
  if ((count($RegDetails)==0) || ($rsck==0))
  {
    return(5); // No connection to whois server made
  }
  $serv2="";
  for($index=0;$index<count($RegDetails);$index++)
  {
    $lne=strtolower($RegDetails[$index]);
    $pos=strpos($lne,"whois server:");
    if (is_integer($pos))
    {
      $serv2=substr($lne,$pos+13,strlen($RegDetails[$index])-13);
      $serv2=trim($serv2);
    }
  }
  // Normally we check for a phrase that exists when domain name is not found.
  // First check to see if we are doing the reverse
  $no=str_replace("!!!dom!!!",$dom,$no);
  $no=str_replace("!!!domt!!!",$domt,$no);
  if (substr($no,0,4)=="<!?>")
  {
    $no=substr($no,4,strlen($no)-4);
  	$available=1;
    $pos=strpos(strtolower($buf),$no);
    if (is_integer($pos))
    {
      $available=0;
    }
  }
  else
  {
  	$available=0;
    $pos=strpos(strtolower($buf),$no);
    if (is_integer($pos))
    {
      $available=1;
    }
	}
  if ($available==1)
  {
    return(0); // Domain is not registered
  }
  if ($noserv2==1)
    return(1); // Return now as full whois not required for the following extensions
  if (($domt==".com") || ($domt==".net") || ($domt==".org") || ($domt==".cc")  || ($domt==".tv"))
  {
    if ($serv2!="")
    {
      // exec("whois -h $serv2 $dom$domt",$RegDetails,$ReturnValue);
      // exec("fwhois $dom$domt@$serv2",$RegDetails,$ReturnValue);
      $rsck=wh($serv2,$dom,$domt,$RegDetails2,$buf2,$fulllookup);
			// if checking .com or .net and whois fails then try whois.networksolutions.com instead
       if ((count($RegDetails2)<=1) || ($rsck==0))
       {
         if (($domt==".com") || ($domt==".net"))
         {
           $rsck=wh("whois.networksolutions.com",$dom,$domt,$RegDetails2,$buf2,$fulllookup);
         }
       }
      if ((count($RegDetails2)<=1) || ($rsck==0))
      {
        return(1); // No connection to second whois server made but return that domain is registered
      }
      $RegDetails=$RegDetails2;
      $buf=$buf2;
    }
  }
  return(1); // Domain is registered
}

function wh($serv,$dom,$domt,&$regdet,&$buf,$fulllookup=true)
{
  global $forceenglish;
	$IDN = new idna_convert();
  $regdet="";
  $handled=false;
  $timeout=10.0;
  $stoptime=time()+$timeout;
  $port=43;
  if ($domt==".is")
    $port=3434;
  $connection=@fsockopen($serv,$port,$errorno,$errordesc,$timeout);
  if ($connection)
  {   
//		stream_set_timeout($connection, $timeout);
    // If necessary create punycode from domain name
    if (($domt==".no") || ($domt==".ch") || ($domt==".li") || ($domt==".at") || ($domt==".ac.at") || ($domt==".co.at") || ($domt==".gv.at") || ($domt==".or.at") || ($domt==".se") || ($domt==".com") || ($domt==".net") || ($domt==".name"))
    {
	  	$idndom = $IDN->encode($dom.$domt);
//	  	print "idndom=$idndom domain=".$_REQUEST['domain']." dom.domt=".$dom.$domt;
//	  	exit;
	  if ((($domt==".com") || ($domt==".net")) && ($serv=="whois.crsnic.net"))
    	fputs($connection,"=$idndom\r\n");
    else	
    	fputs($connection,"$idndom\r\n");
    	$handled=true;
    }
    if ($domt==".mn")
    {
  	  fputs($connection,"$dom\r\n");
  	  $handled=true;
    }
//    if (($domt==".mx") || ($domt==".com.mx") || ($domt==".edu.mx") || ($domt==".gob.mx") || ($domt==".net.mx") || ($domt==".org.mx"))
//    {
//    	$handled=true;
//    	fputs($connection,"=$dom$domt\r\n");
//    }	
    if((substr($domt,strlen($domt)-3,3)==".jp") && ($forceenglish==true))
    {
    	fputs($connection,"$dom$domt /e\r\n");
      $handled=true;
  	} 
    if((substr($domt,strlen($domt)-3,3)==".dk") && ($fulllookup==true))
    {
    	fputs($connection," --show-handles $dom$domt\r\n");
      $handled=true;
  	} 
    if ($handled==false)
    {
    	fputs($connection,"$dom$domt\r\n");
    }
    $timedout=0;
	  $buf="";
	  do
	  {
	   $buf1 = fread($connection, 100000);
	   if (strlen($buf1) == 0)
	   {
	       break;
	   }
	   $buf .= $buf1;
	  }
	  while (true);
    fclose($connection);
    $regdet=explode("\n",$buf);
  	return(1);
  }
  else
    return(0);
}

function CheckReferer()
{
  global $allowed;
  if ($allowed=="")
  {
    return(1); // Don't care who called us
  }
  $ref=strtolower($_SERVER['HTTP_REFERER']);
  $allowed=strtolower($allowed);
  $refall=split(",",$allowed,100);
  for ($index=0;$index<count($refall);$index++)
  {
    $pos=strpos($_SERVER['HTTP_REFERER'],$refall[$index]);
    if (is_integer($pos))
    {
      if ($pos==0)
      {
        return(1); // Referer allowed access
      }
    }
  }
  return(0);
}

function CheckValidDomain($dom,$domt)
{
  $dom=accentstrtolower($dom);
  $domt=strtolower($domt);
  if ($dom=="")
    return(0);
  // Handle .name seperately
  if ($domt==".name")
  {
		if (is_integer(strpos($dom,".")))
		{
			$section=explode(".",$dom);
	    $first=$section[0];
	    $last=$section[1];
	    if (isset($section[2]))
	      return(0);
			if (preg_match("/^[-a-zA-Z0-9]{1,63}$/",$first)!=true)
				return(0);
			if ((substr($first,0,1)=="-") || (substr($first,strlen($first)-1,1)=="-"))
				return(0);
			if (preg_match("/^[-a-zA-Z0-9]{3,63}$/",$last)!=true)
				return(0);
			if ((substr($last,0,1)=="-") || (substr($last,strlen($last)-1,1)=="-"))
				return(0);
		}
		else
		{
	    if (preg_match("/^[-a-zA-Z0-9]{3,63}$/",$dom)!=true)
		    return(0);
	    if ((substr($dom,0,1)=="-") || (substr($dom,strlen($dom)-1,1)=="-"))
		    return(0);
		}
		return(1);
  }
  // .ac.uk, .gov.uk, .ltd.uk, .plc.uk and .sch.uk do not allow 1 character domain names or more than 63 characters
  if (($domt==".ac.uk") || ($domt==".gov.uk") || ($domt==".ltd.uk") || ($domt==".plc.uk") || ($domt==".sch.uk"))
  {
    if (strlen($dom)<=1)
      return(0);
    if (strlen($dom)>63)
      return(0);
  }
  // .co.uk, .me.uk, .org.uk and .net.uk do not allow 1 character domain names
  if (($domt==".co.uk") || ($domt==".me.uk") || ($domt==".org.uk") || ($domt==".net.uk"))
  {
    if (strlen($dom)<=2)
      return(0);
  }
  // .info and .biz dont allow 1 and 2 character domain names
  if (($domt==".info") || ($domt==".biz"))
  {
    if (strlen($dom)<=2)
      return(0);
  }
  // .jp does not allow 1 and 2 character domain names
  if ($domt==".jp")
  {
    if (strlen($dom)<=2)
      return(0);
  }
  // .ch and .li dont allow 1 and 2 character domain names
  if (($domt==".ch") || ($domt==".li"))
  {
    if (strlen($dom)<=2)
      return(0);
  }
  // .hk dont allow 1 and 2 character domain names
  if (($domt==".hk") || ($domt==".edu.hk") || ($domt==".gov.hk") || ($domt==".net.hk") || ($domt==".org.hk") || ($domt==".com.hk"))
  {
    if (strlen($dom)<=2)
      return(0);
    if (strlen($dom)>63)
      return(0);      
  }
  // generic string of allowed characters
 	$validmask="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-";
  if ($domt==".no")
  	$validmask="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-".chr(225).chr(224).chr(226).chr(231).chr(233).chr(232).chr(234).chr(241).chr(243).chr(242).chr(244).chr(246).chr(252).chr(248).chr(229).chr(230);
  if ($domt==".dk")
  	$validmask="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-".chr(248).chr(229).chr(230);
  if ($domt==".se")
  	$validmask="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-".chr(228).chr(229).chr(246).chr(233).chr(252);
//  if ($domt==".de")
//  	$validmask="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-";
  if ($domt==".it")
  	$validmask="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-".chr(224).chr(226).chr(228).chr(232).chr(233).chr(234).chr(235).chr(236).chr(238).chr(239).chr(242).chr(244).chr(246).chr(249).chr(251).chr(252).chr(230).chr(156).chr(231).chr(255).chr(223);
  if (($domt==".ch") || ($domt==".li") || ($domt==".at") || ($domt==".ac.at") || ($domt==".co.at") || ($domt==".gv.at") || ($domt==".or.at") || ($domt==".com") || ($domt==".net") || ($domt==".de"))
  {
  	$validmask="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-";
  	for ($k=224;$k<=246;$k++)
  	  $validmask=$validmask.chr($k);
  	for ($k=248;$k<=255;$k++)
  	  $validmask=$validmask.chr($k);
  }
  if (strspn($dom, $validmask) != strlen($dom))
    return(0);
  if ((substr($dom,0,1)=="-") || (substr($dom,strlen($dom)-1,1)=="-"))
    return(0);
  return(1);
}

function accentstrtolower($s)
{
  return(strtolower($s));
/*
	for ($k=0;$k<strlen($s);$k++)
	{
		$c=ord($s[$k]);
		if (($c>=65) && ($c<=90))
			$c=$c+32;
		if (($c>=192) && ($c<=214))
			$c=$c+32;
		if (($c>=216) && ($c<=222))
			$c=$c+32;
		$s[$k]=chr($c);
	}
*/
	return($s);
}

function sendToHost($host,$method,$path,$data,&$buf,$useragent=0)
{
  // Supply a default method of GET if the one passed was empty
  if (empty($method))
  	$method = 'GET';
  $method = strtoupper($method);
  $fp = fsockopen($host,80);
  if ($method == 'GET')
  	$path .= '?' . $data;
  fputs($fp, "$method $path HTTP/1.1\n");
  fputs($fp, "Host: $host\n");
  fputs($fp, "Content-type: application/x-www-form-urlencoded\n");
  fputs($fp, "Content-length: " . strlen($data) . "\n");
  if ($useragent)
  	fputs($fp, "User-Agent: MSIE\n");
  fputs($fp, "Connection: close\n\n");
  if ($method == 'POST')
  	fputs($fp, $data);
  while (!feof($fp))
  	$buf[]=fgets($fp,128);
  fclose($fp);
  return $buf;
}

function sendToHost2($host,$method,$path,$data,&$buf,$useragent=0)
{
  // Reads webpage in one big buffer
  // Supply a default method of GET if the one passed was empty
  if (empty($method))
  	$method = 'GET';
  $method = strtoupper($method);
  $fp = fsockopen($host,80);
  if ($method == 'GET')
  	$path .= '?' . $data;
  fputs($fp, "$method $path HTTP/1.1\n");
  fputs($fp, "Host: $host\n");
  fputs($fp, "Content-type: application/x-www-form-urlencoded\n");
  fputs($fp, "Content-length: " . strlen($data) . "\n");
  if ($useragent)
  	fputs($fp, "User-Agent: MSIE\n");
  fputs($fp, "Connection: close\n\n");
  if ($method == 'POST')
  	fputs($fp, $data);
  $buf="";
	do
	{
   $buf1 = fread($fp, 100000);
   if (strlen($buf1) == 0)
   {
       break;
 	 }
   $buf .= $buf1;
	}
 	while (true);  	
  fclose($fp);
  return $buf;
}

function vewhois($dom,$domt,&$regdet)
{
  $regdet="";
  if (!($fh=@fopen("https://registro.nic.ve/modules/whois?query=".$dom.$domt,"r")))
    return(5);
  $buf="";
  while (!feof($fh))
  	$buf[]=fgets($fh,128);
  fclose($fh);
  $fnd=0;
  for ($k=0;$k<count($buf);$k++)
  {
    $buf[$k]=strip_tags($buf[$k]);
    $buf[$k]=trim($buf[$k]);
    $pos=strpos($buf[$k],$dom.$domt);
    $pos2=strpos($buf[$k],"Servidor Whois");
    if ((is_integer($pos)) && (is_integer($pos2)==False))
      $fnd=1;
    if ($fnd==1)
      $regdet[]=$buf[$k];
  }
  $available=0;
  for($index=0;$index<count($regdet);$index++)
  {
    $lne=strtolower($regdet[$index]);
    $pos=strpos($lne,"no match");
    if (is_integer($pos))
    {
      $available=1;
    }
  }
  if ($available==1)
    return(0); // Domain is not registered
  return(1);
}

function sawhois($dom,$domt,&$regdet)
{
  $regdet="";
  if (!($fh=@fopen("http://www.saudinic.net.sa/cgi-bin/whois.cgi?Domain=".$dom."&Level=".$domt,"r")))
    return(5);
  $buf="";
  while (!feof($fh))
  	$buf[]=fgets($fh,128);
  fclose($fh);
  $fnd=0;
  for ($k=0;$k<count($buf);$k++)
  {
    $buf[$k]=strip_tags($buf[$k]);
    $buf[$k]=trim($buf[$k]);
    $pos=strpos($buf[$k],$dom.$domt);
    $pos2=strpos($buf[$k],"@saudinic.net.sa");
    if ((is_integer($pos)) && (is_integer($pos2)==False))
      $fnd=1;
    if ($fnd==1)
      $regdet[]=$buf[$k];
  }
  $available=0;
  for($index=0;$index<count($regdet);$index++)
  {
    $lne=strtolower($regdet[$index]);
    $pos=strpos($lne,"not registered");
    if (is_integer($pos))
    {
      $available=1;
    }
  }
  if ($available==1)
    return(0); // Domain is not registered
  return(1);
}

function eswhois($dom,$domt,&$regdet)
{
	global $esusername,$espassword;
  $xmlcheck ="<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n";
  $xmlcheck.="<epp xmlns=\"urn:ietf:params:xml:ns:epp-1.0\"\n";
  $xmlcheck.="xmlns:domain=\"urn:ietf:params:xml:ns:domain-1.0\"\n";
  $xmlcheck.="xmlns:es_creds=\"urn:red.es:xml:ns:es_creds-1.0\">\n";
  $xmlcheck.="<command>\n";
  $xmlcheck.="<check>\n";
  $xmlcheck.="<domain:check>\n";
  $xmlcheck.="<domain:name>".$dom.$domt."</domain:name>\n";
  $xmlcheck.="</domain:check>\n";
  $xmlcheck.="</check>\n";
  $xmlcheck.="<extension>\n";
  $xmlcheck.="<es_creds:es_creds>\n";
  $xmlcheck.="<es_creds:clID>$esusername</es_creds:clID>\n";
  $xmlcheck.="<es_creds:pw>$espassword</es_creds:pw>\n";
  $xmlcheck.="</es_creds:es_creds>\n";
  $xmlcheck.="</extension>\n";
  $xmlcheck.="<clTRID>AR-12340</clTRID>\n";
  $xmlcheck.="</command>\n";
  $xmlcheck.="</epp>\n";
  
  $xmlinfo ="<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n";
  $xmlinfo.="<epp xmlns=\"urn:ietf:params:xml:ns:epp-1.0\"\n";
  $xmlinfo.="xmlns:domain=\"urn:ietf:params:xml:ns:domain-1.0\"\n";
  $xmlinfo.="xmlns:es_creds=\"urn:red.es:xml:ns:es_creds-1.0\">\n";
  $xmlinfo.="<command>\n";
  $xmlinfo.="<info>\n";
  $xmlinfo.="<domain:info>\n";
  $xmlinfo.="<domain:name hosts=\"sub\">".$dom.$domt."</domain:name>\n";
  $xmlinfo.="</domain:info>\n";
  $xmlinfo.="</info>\n";
  $xmlinfo.="<extension>\n";
  $xmlinfo.="<es_creds:es_creds>\n";
  $xmlinfo.="<es_creds:clID>$esusername</es_creds:clID>\n";
  $xmlinfo.="<es_creds:pw>$espassword</es_creds:pw>\n";
  $xmlinfo.="</es_creds:es_creds>\n";
  $xmlinfo.="</extension>\n";
  $xmlinfo.="<clTRID>AR-12340</clTRID>\n";
  $xmlinfo.="</command>\n";
  $xmlinfo.="</epp>\n";
  if ($regdet=="*")	
  {
    $regdet="";
    if (postxml('ar.nic.es','/agente/servlet/ws_esnic',$xmlcheck,$buf))
    {
      $a=getxmldata($buf,"domain:chkData");
      $a=getxmldata($a,"domain:cd");
      if (is_integer(strpos(strtolower($a),"avail=\"false\"")))
        return(1); // Domain is registered
      else
        return(0); // Domain available; 
    }
    else
      return(5); 
  }    
  else
  {    
    $regdet="";
    if (postxml('ar.nic.es','/agente/servlet/ws_esnic',$xmlcheck,$buf))
    {
      $a=getxmldata($buf,"domain:chkData");
      $a=getxmldata($a,"domain:cd");  
      if (is_integer(strpos(strtolower($a),"avail=\"false\"")))
      {
        if (postxml('ar.nic.es','/agente/servlet/ws_esnic',$xmlinfo,$buf))
        {
          $a=getxmldata($buf,"domain:infData");
     	    $regdet=explode("\n",$a);
          return(1); // Domain is registered
        }
        else
          return(5);  // Info xml request failed
      }  
      else
        return(0); // Domain available; 
    }
    else
      return(5);  // Check xml request failed
  }
}

function postxml($host,$path,$data,&$buf)
{
  $fp = fsockopen($host,80);
  if (!$fp)
    return(false);
  fputs($fp, "POST $path HTTP/1.1\n");
  fputs($fp, "Host: $host\n");
  fputs($fp, "Content-type: application/x-www-form-urlencoded\n");
  fputs($fp, "Content-length: " . strlen($data) . "\n");
  fputs($fp, "Connection: close\n\n");
  fputs($fp, $data);
 	$buf=fread($fp,100000);
  fclose($fp);
  return (true);  
}

function fmwhois($dom,$domt,&$regdet)
{
  $regdet="";
  if (!($fh=@fopen("http://www.dot.fm/query.cfm?domain=".$dom."&tld=".str_replace(".","",$domt),"r")))
    return(5);
  $buf="";
  do
  {
    $buf1 = fread($fh, 10000);
    if (strlen($buf1) == 0)
    {
      break;
    }
    $buf .= $buf1;
  }
  while (true);
  fclose($fh);
  if (false!==strpos(strtolower($buf),"is not available"))
  {
    // Domain is not available
    // return whois data
    if (!($fh=@fopen("http://www.dot.fm/whois.cfm?domain=".$dom.$domt,"r")))
    {
      $regdet[]="Whois data not available";
      return(1);   
    }
    $buf="";
    do
    {
      $buf1 = fread($fh, 10000);
      if (strlen($buf1) == 0)
      {
        break;
      }
      $buf .= $buf1;
    }
    while (true);
    fclose($fh);
	  $buf=str_replace("<br>","\n",$buf);
	  $buf=strip_tags($buf);
	  $buf=trim($buf);
	  $regdet=explode("\n",$buf);
    return(1);    
  }
  if (false!==$pos=strpos(strtolower($buf),"1st year* ="))
  {
    $pos2=strpos($buf,"$",$pos);
    $pos3=strpos($buf,"-",$pos2);
    $premium=substr($buf,$pos2+1,$pos3-$pos2+1);
    $premium=str_replace(",","",$premium);
    $premium=str_replace("-","",$premium);
    $premium=trim($premium);
    if (is_numeric($premium))
    {
      $regdet[]=$premium;
      return(6); // Return available at premium
    }
    return(0); // Domain is not registered
  }
  return(0);
}

function tvwhois($dom,$domt,&$regdet)
{
  $regdet="";
//  if (!($fh=@fopen("http://www.tv/en-def-5e58a43774d2/cgi-bin/multilookup.cgi?domain=".$dom."&tv=1","r")))
//  if (!($fh=@fopen("http://www.tv/en-def-1b7db09f553d/cgi-bin/multilookup.cgi?domain=".$dom."&tld=tv&x=25&y=5","r")))
  if (!($fh=@fopen("http://www.tv/en-def-c3347577f9c8/cgi-bin/multilookup.cgi?tv=1&domain=".$dom."&x=26&y=6","r")))
  {
    return(5);
  }
  $buf="";
	do
	{
   $buf1 = fread($fh, 100000);
   if (strlen($buf1) == 0)
   {
       break;
 	 }
   $buf .= $buf1;
	}
 	while (true);
  fclose($fh);
  $buf=strip_tags($buf);
  $pos=strpos($buf,$dom.$domt." is not available");
  if (is_integer($pos))
  {
		$regdet[]=$dom.$domt."  is not available";
	  $regdet[]="Full whois for ".$domt." domains not available";
    return(1);
  }
  $pos=strpos($buf,$dom.$domt."  is available");
  if (is_integer($pos))
  {
		$regdet[]=$dom.$domt." is available";
    return(0);
  }
  $pos=strpos($buf,$dom.$domt."    is an available premium name");
  if (is_integer($pos))
  {
		$regdet[]=$dom.$domt." is an available premium name";
	  $pos=strpos($buf,"$",$pos);
	  $pos2=strpos($buf,"/",$pos);
		$premium=substr($buf,$pos+1,$pos2-$pos-1);
	  $premium=str_replace(",","",$premium);
  	$premium=sprintf("%01.2f",$premium);
    $regdet[]=$premium;
    return(6);
  }
  return(1);
}

function djwhois($dom,$domt,&$regdet)
{
  $regdet="";
  sendToHost('www.dj-domains.com','post','/chk/index.php','domain_name='.$dom,$buf);
//  sendToHost('http://www.dj','post','/scgi-bin/quiest.cgi','dn='.$dom,$buf);
  if (count($buf)==0)
    return(5); // No connection to whois server made
  $available=0;
  $premium=0;
  for ($k=0;$k<count($buf);$k++)
  {
    $pos=strpos(strtolower($buf[$k]),"is not registered");
    if (is_integer($pos))
      $available=1;
    // See if premium domain
    $pos=strpos(strtolower($buf[$k]),"this is a \"premium\" domain name");
    if (is_integer($pos))
      $premium=1;
    // Get premium price
    $pos=strpos(strtolower($buf[$k]),"dname=".$dom."&price=");
    if (is_integer($pos))
    {
	    $pos2=strpos(strtolower($buf[$k]),",",$pos);
      $price=substr($buf[$k],$pos+strlen("dname=".$dom."&price="),$pos2-$pos-strlen("dname=".$dom."&price=")+3);
      $price=strtr($price,",",".");
    }
  }
  // If whois not contactable
  if (($premium==1) && ($available==1))
  {
    $regdet[]="Domain is available at a premium. Price in Euro's is ".$price;
    $regdet[]=$price;
    return(6);
  }
  if ($available==1)
  {
    $regdet[]=$dom.".dj is available";
    return(0);
  }
  if (($available==0) && ($regdet!="*"))
  {
	  sendToHost2('www.dj-domains.com','post','/whois/index.php','whoisdname='.$dom."&action=chk_whois",$buf);
	  $buf=str_replace("<br>","\n",$buf);
	  $buf=strip_tags($buf);
	  $buf2=explode("\n",$buf);
    $start=0;
    $finish=0;
    for ($k=0;$k<count($buf2);$k++)
    {
    	if (($start==1) && (trim($buf2[$k])!=""))
      	$regdet[]=$buf2[$k];
	    $pos=strpos(strtolower($buf2[$k]),"result:");
  	  if (is_integer($pos))
				$start=1;
	    $pos=strpos(strtolower($buf2[$k]),"name server:");
  	  if (is_integer($pos))
				$finish=1;
      if (($finish==1) && (trim($buf2[$k])==""))
        break;
    }
  }
  return(1);
}

function bewhois($dom,$domt,&$regdet)
{
  $IDN = new idna_convert();
//  $dom = utf8_encode($dom);
  $idndom = $IDN->encode($dom.$domt);	
  if ($regdet=="*")
  {
	  $regdet="";
	  $connection=@fsockopen("das.dns.be",4343,$errorno,$errordesc);
	  if ($connection)
	  {
	    fputs($connection,"$idndom\r\n");
	    while(!feof($connection))
	    {
	      $regdet[]=fgets($connection,255);
	    }
	    fclose($connection);
	    if (count($regdet)<2)
	      return(5);
      $registered=1;
	    for($index=0;$index<count($regdet);$index++)
	    {
	      $lne=strtolower($regdet[$index]);
	      $pos=strpos($lne,"not allowed");
	      if (is_integer($pos))
	        return(3);
	      $pos=strpos($lne,"not available");
	      if (is_integer($pos))
 	        return(1);
	      $pos=strpos($lne,"available");
	      if (is_integer($pos))
 	        return(0);
 	    }
      return(5);
	  }
	  else
	    return(5);
  }
  else
  {
	  $regdet="";
	  $connection=@fsockopen("whois.dns.be",43,$errorno,$errordesc);
	  if ($connection)
	  {
	    fputs($connection,$idndom."\r\n");
	    while(!feof($connection))
	    {
	      $regdet[]=fgets($connection,255);
	    }
	    fclose($connection);
	    if (count($regdet)<2)
	      return(5);
      $registered=1;
	    for($index=0;$index<count($regdet);$index++)
	    {
	      $lne=strtolower($regdet[$index]);
	      $pos=strpos($lne,"status: not allowed");
	      if (is_integer($pos))
	        return(3);
	      $pos=strpos($lne,"status: available");
	      if (is_integer($pos))
	        return(0);
	    }
      return(1);
	  }
	  else
	    return(5);
  }
}

function nlwhois($dom,$domt,&$regdet)
{
  if ($regdet=="*")
  {
	  $regdet="";
	  $connection=@fsockopen("whois.domain-registry.nl",43,$errorno,$errordesc);
	  if ($connection)
	  {
	    fputs($connection,"is ".$dom.$domt."\r\n");
	    while(!feof($connection))
	    {
	      $regdet[]=fgets($connection,255);
	    }
	    fclose($connection);
	    if (count($regdet)<1)
	      return(5);
      $registered=1;
	    for($index=0;$index<count($regdet);$index++)
	    {
	      $lne=strtolower($regdet[$index]);
	      $pos=strpos($lne,"is free");
	      if (is_integer($pos))
        {
	        $registered=0;
          break;
        }
	      $pos=strpos($lne,"invalid domain");
	      if (is_integer($pos))
        {
	        return(3);
        }
	      $pos=strpos($lne,"too busy");
	      if (is_integer($pos))
        {
	        return(5);
        }
	    }
      return($registered);
	  }
	  else
	    return(5);
  }
  else
  {
	  $regdet="";
	  $connection=@fsockopen("whois.domain-registry.nl",43,$errorno,$errordesc);
	  if ($connection)
	  {
	    fputs($connection,$dom.$domt."\r\n");
	    while(!feof($connection))
	    {
	      $regdet[]=fgets($connection,255);
	    }
	    fclose($connection);
	    if (count($regdet)<2)
	      return(5);
      $registered=1;
	    for($index=0;$index<count($regdet);$index++)
	    {
	      $lne=strtolower($regdet[$index]);
	      $pos=strpos($lne,"too busy");
	      if (is_integer($pos))
        {
          return(5);
        }
//	      $pos=strpos($lne,"not a registered domain");
	      $pos=strpos($lne,"is free");
	      if (is_integer($pos))
        {
	        $registered=0;
          break;
        }
	    }
      return($registered);
	  }
	  else
	    return(5);
  }
}
function luwhois($dom,$domt,&$regdet)
{
  if ($regdet=="*")
  {
	  $regdet="";
	  $connection=@fsockopen("whois.dns.lu",4343,$errorno,$errordesc);
	  if ($connection)
	  {
	    fputs($connection,"GET 1.0 $dom\r\n");
	    while(!feof($connection))
	    {
	      $regdet[]=fgets($connection,255);
	    }
	    fclose($connection);
	    if (count($regdet)<2)
	      return(5);
      $registered=1;
	    for($index=0;$index<count($regdet);$index++)
	    {
	      $lne=strtolower($regdet[$index]);
	      $pos=strpos($lne,"status: free");
	      if (is_integer($pos))
        {
	        $registered=0;
          break;
        }
	    }
      return($registered);
	  }
	  else
	    return(5);
  }
  else
  {
	  $regdet="";
	  $connection=@fsockopen("whois.dns.lu",43,$errorno,$errordesc);
	  if ($connection)
	  {
	    fputs($connection,$dom.$domt."\r\n");
	    while(!feof($connection))
	    {
	      $regdet[]=fgets($connection,255);
	    }
	    fclose($connection);
	    if (count($regdet)<2)
	      return(5);
      $registered=1;
	    for($index=0;$index<count($regdet);$index++)
	    {
	      $lne=strtolower($regdet[$index]);
	      $pos=strpos($lne,"no such domain");
	      if (is_integer($pos))
        {
	        $registered=0;
          break;
        }
	    }
      return($registered);
	  }
	  else
	    return(5);
  }
}

function chwhois($dom,$domt,&$regdet)
{
  $IDN = new idna_convert();
 	$idndom = $IDN->encode($dom.$domt);
  if ($regdet=="*")
  {
	  $regdet="";
	  $connection=@fsockopen("whois.nic.ch",4343,$errorno,$errordesc);
	  if ($connection)
	  {
	    fputs($connection,$idndom."\r\n");
	    while(!feof($connection))
	    {
	      $regdet[]=fgets($connection,255);
	    }
	    fclose($connection);
	    if (count($regdet)<1)
	      return(5);
      $registered=1;
	    for($index=0;$index<count($regdet);$index++)
	    {
	      $lne=strtolower($regdet[$index]);
	      $pos=strpos($lne,"1:");
	      if (is_integer($pos))
        {
	        $registered=0;
          break;
        }
	      $pos=strpos($lne,"-95:");
	      if (is_integer($pos))
        {
          return(5); // Access restricted
        }
	      $pos=strpos($lne,"-959:");
	      if (is_integer($pos))
        {
          return(5); // Server error
        }
	    }
      return($registered);
	  }
	  else
	    return(5);
  }
  else
  {
	  $regdet="";
	  $connection=@fsockopen("whois.nic.ch",43,$errorno,$errordesc);
	  if ($connection)
	  {
	    fputs($connection,$idndom."\r\n");
	    while(!feof($connection))
	    {
	      $regdet[]=fgets($connection,255);
	    }
	    fclose($connection);
	    if (count($regdet)<2)
	      return(5);
      $registered=1;
	    for($index=0;$index<count($regdet);$index++)
	    {
	      $lne=strtolower($regdet[$index]);

	      $pos=strpos($lne,"not a registered domain");
	      if (is_integer($pos))
        {
	        $registered=0;
          break;
        }
	    }
      return($registered);
	  }
	  else
	    return(5);
  }
}

function euwhois($dom,$domt,&$regdet)
{
  if ($regdet=="*")
  {
	  $regdet="";
	  $connection=@fsockopen("das.eu",4343,$errorno,$errordesc);
	  if ($connection)
	  {
	    fputs($connection,"$dom\r\n");
	    while(!feof($connection))
	    {
	      $regdet[]=fgets($connection,255);
	    }
	    fclose($connection);
	    if (count($regdet)<2)
	      return(5);
      $registered=1;
	    for($index=0;$index<count($regdet);$index++)
	    {
	      $lne=strtolower($regdet[$index]);
	      $pos=strpos($lne,"status: available");
	      if (is_integer($pos))
        {
	        $registered=0;
          break;
        }
	    }
      return($registered);
	  }
	  else
	    return(5);
  }
  else
  {
	  $regdet="";
	  $connection=@fsockopen("whois.eu",43,$errorno,$errordesc);
	  if ($connection)
	  {
	    fputs($connection,$dom.$domt."\r\n");
	    while(!feof($connection))
	    {
	      $regdet[]=fgets($connection,255);
	    }
	    fclose($connection);
	    if (count($regdet)<2)
	      return(5);
      $registered=1;
	    for($index=0;$index<count($regdet);$index++)
	    {
	      $lne=strtolower($regdet[$index]);
	      $pos=strpos($lne,"status: available");
	      if (is_integer($pos))
        {
	        $registered=0;
          break;
        }
	    }
      return($registered);
	  }
	  else
	    return(5);
  }
}

function ukwhois($dom,$domt,&$regdet)
{
  $regdet="";
  $clientip=trim(strtok($_SERVER['REMOTE_ADDR'],",")); 
  $hostname=gethostbyaddr(trim(strtok($_SERVER['REMOTE_ADDR'],",")));
  if ($hostname==$clientip)
    $hostname="unresolvable";
  $connection=fsockopen("whois.nic.uk",1043,$errorno,$errordesc);
  if ($connection)
  {
    fputs($connection,$hostname." ".$clientip." ".$dom.$domt."\r\n");
    while(!feof($connection))
    {
      $regdet[]=fgets($connection,64);
    }
    fclose($connection);
    if (count($regdet)<2)
      return(5);
    $registered=1;
    for($index=0;$index<count($regdet);$index++)
    {
      $lne=strtolower($regdet[$index]);
      $pos=strpos($lne,"no match");
      if (is_integer($pos))
      {
        $registered=0;
        break;
      }
      $pos=strpos($lne,"exceeded its quota");
      if (is_integer($pos))
      {
        $registered=5;
        break;
      }
    }
    return($registered);
  }
  else
    return(5);
} 

function bawhois($dom,$domt,&$regdet)
{
  if ($domt==".ba") $domtnum="1";
  if ($domt==".org.ba") $domtnum="2";
  if ($domt==".net.ba") $domtnum="3";
  if ($domt==".gov.ba") $domtnum="4";
  if ($domt==".mil.ba") $domtnum="5";
  if ($domt==".edu.ba") $domtnum="6";
  if ($domt==".unsa.ba") $domtnum="7"; 
  $regdet="";
  if (!($fh=@fopen("http://www.nic.ba/lat/whois/index.php?wun=1&naziv=".$dom."&ekstenzija=".$domtnum,"r")))
  {
    return(5);
  }
  $buf="";
	do
	{
   $buf1 = fread($fh, 100000);
   if (strlen($buf1) == 0)
   {
     break;
 	 }
   $buf .= $buf1;
	}
 	while (true);
  fclose($fh);
  $pos=strpos($buf,"domenu ne postoje");
  if (is_integer($pos))
  {
		$regdet[]=$dom.$domt." is available";
    return(0);
  }
  else
  {    
		$regdet[]=$dom.$domt." is registered";
		$regdet[]="Full whois contact data not available for $domt domains";
    return(1);    
  }        
}

function dewhois($dom,$domt,&$regdet)
{
  $IDN = new idna_convert();
//  $dom = utf8_encode($dom);
  $idndom = $IDN->encode($dom.$domt);	
  if ($regdet=="*")
  {
	  $regdet="";
	  $connection=@fsockopen("whois.denic.de",43,$errorno,$errordesc);
	  if ($connection)
	  {
	    // -- patch 18.01.06-1; 
	    // @reason UTF-8 encoding is default character set ( see http://www.denic.de/en/domains/technik/denic_whois-server/ )
	    if ( substr(strtolower($idndom),0,4) == "xn--" )
	    {
	      fputs($connection,"-T st,ace ".$idndom."\r\n");
	    }
	    else
	    {
	    	fputs($connection,$idndom."\r\n");
	    }	    
	    /* -- obsolete --
	    // Force UTF-8 encoding instead of ISO-8859-1
      fputs($connection,"-C UTF-8 ".$dom.$domt."\r\n"); // 
	    //fputs($connection,"-C ISO-8859-1 ".$dom.$domt."\r\n");
	       --------------  */
	    // -- end patch 18.01.06-1 --
	    
	    while(!feof($connection))
	    {
	      $regdet[]=fgets($connection,255);
	    }
	    fclose($connection);
	    if (count($regdet)<2)
	      return(5);
      $registered=1;
	    for($index=0;$index<count($regdet);$index++)
	    {
	      $lne=strtolower($regdet[$index]);
	      $pos=strpos($lne,"status: free");
	      if (is_integer($pos))
        {
	        $registered=0;
          break;
        }
	      $pos=strpos($lne,"status: invalid");
	      if (is_integer($pos))
        {
	        return(3);
        }
	    }
      return($registered);
	  }
	  else
	    return(5);
  }
  else
  {
	  $regdet="";
	  $connection=@fsockopen("whois.denic.de",43,$errorno,$errordesc);
	  if ($connection)
	  {
	    // -- patch 18.01.06-2; 
	    // @reason UTF-8 conversion and IDN domain handling (ACE-form option)
	    if ( substr(strtolower($idndom),0,4) == "xn--" )
	    {
	      fputs($connection,"-T ace,dn ".$idndom."\r\n");
	    }
	    else
	    {
	    	fputs($connection,"-T dn ".$idndom."\r\n");
	    }
	     /* -- obsolete --
	    // fputs($connection,"-C ISO-8859-1 -T dn ".$dom.$domt."\r\n");// Force UTF-8 encoding instead of ISO-8859-1
	    fputs($connection,"-C UTF-8 -T ace,dn ".$dom.$domt."\r\n");
	    // fputs($connection,"-C ISO-8859-1 -T dn ".$dom.$domt."\r\n");
	    	       --------------  */
	    // -- end patch 18.01.06-2 --
	    while(!feof($connection))
	    {
	      $regdet[]=fgets($connection,255);
	    }
	    fclose($connection);
	    if (count($regdet)<2)
	      return(5);
      $registered=1;
	    for($index=0;$index<count($regdet);$index++)
	    {
	      $lne=strtolower($regdet[$index]);
	      $pos=strpos($lne,"not found in database");
	      if (is_integer($pos))
        {
	        $registered=0;
          break;
        }
	    }
      return($registered);
	  }
	  else
	    return(5);
  }
}

function auwhois($dom,$domt,&$regdet)
{
  if ($regdet=="*")
  {
	  $regdet="";
	  $connection=@fsockopen("whois-check.ausregistry.net.au",43,$errorno,$errordesc);
	  if ($connection)
	  {
	    fputs($connection,$dom.$domt."\r\n");
	    while(!feof($connection))
	    {
	      $regdet[]=fgets($connection,255);
	    }
	    fclose($connection);
	    if (count($regdet)<1)
	      return(5);
      $registered=0;
	    for($index=0;$index<count($regdet);$index++)
	    {
	      $lne=strtolower($regdet[$index]);
	      $pos=strpos($lne,"not available");
	      if (is_integer($pos))
        {
	        $registered=1;
          break;
        }
	    }
      return($registered);
	  }
	  else
	    return(5);
  }
  else
  {
	  $regdet="";
	  $connection=@fsockopen("whois.ausregistry.net.au",43,$errorno,$errordesc);
	  if ($connection)
	  {
	    fputs($connection,$dom.$domt."\r\n");
	    while(!feof($connection))
	    {
	      $regdet[]=fgets($connection,255);
	    }
	    fclose($connection);
	    if (count($regdet)<2)
	      return(5);
      $registered=1;
	    for($index=0;$index<count($regdet);$index++)
	    {
	      $lne=strtolower($regdet[$index]);
	      $pos=strpos($lne,"no data found");
	      if (is_integer($pos))
        {
	        $registered=0;
          break;
        }
	    }
      return($registered);
	  }
	  else
	    return(5);
  }
}
function zawhois($dom,$domt,&$regdet)
{
  if (!($fh=@fopen("http://co.za/cgi-bin/whois.sh?Domain=".$dom,"r")))
  {
    return(5);
  }
  $buf="";
	do
	{
   $buf1 = fread($fh, 100000);
   if (strlen($buf1) == 0)
   {
       break;
 	 }
   $buf .= $buf1;
	}
 	while (true);
  fclose($fh);
  $pos=strpos($buf,"Match: No Matches");
  if (!is_integer($pos))
  {
	  $pos1=strpos(strtolower($buf),"0a");
	  $pos2=strpos(strtolower($buf),"</pre>");
	  if ((is_integer($pos1)) && (is_integer($pos2)))
	  {
	    $buf=substr($buf,$pos1,$pos2-$pos1);
	    $regdet=explode("\n",$buf);
	  }
	  return(1); // Not available
  }
  return(0); // Available
}

function orgzawhois($dom,$domt,&$regdet)
{
  if (!($fh=@fopen("http://www.org.za//cgi-bin/rwhois?domain=".$dom."&format=full","r")))
  {
    return(5);
  }
  $buf="";
	do
	{
   $buf1 = fread($fh, 100000);
   if (strlen($buf1) == 0)
   {
       break;
 	 }
   $buf .= $buf1;
	}
 	while (true);
  fclose($fh);
  $pos=strpos($buf,"Domain not registered");
  if (!is_integer($pos))
  {
	  $pos1=strpos(strtolower($buf),"<pre>");
	  $pos2=strpos(strtolower($buf),"</pre>");
	  if ((is_integer($pos1)) && (is_integer($pos2)))
	  {
	    $buf=substr($buf,$pos1+5,$pos2-$pos1-5);
	    $regdet=explode("\n",$buf);
	  }
	  return(1); // Not available
  }
  return(0); // Available
}

function govzawhois($dom,$domt,&$regdet)
{
 if(!($fh=@fopen("http://dnsadmin.gov.za/avail/navail.php?ipnamex=".$dom.$domt."&submit=Start","r")))
 {
   return(5);
 }
 $buf="";
 do
 {
   $buf1 = fread($fh, 100000);
   if (strlen($buf1) == 0)
   {
     break;
   }
   $buf .= $buf1;
 }
 while (true);
 fclose($fh);
 $pos=strpos($buf,"This is available");
 if (!is_integer($pos))
 {
     $pos1=strpos(strtolower($buf),"><font size=4>");
     $pos2=strpos(strtolower($buf),"</b></font> </font>");
     if ((is_integer($pos1)) && (is_integer($pos2)))
     {
       $buf=substr($buf,$pos1+14,$pos2-$pos1-14);
       $regdet=explode("\n",$buf);
     }
     return(1); // Not available
 }
 return(0); // Available
}


function cozwwhois($dom,$domt,&$regdet)
{
 $regdet="";
 if(!($fh=@fopen("http://www.zispa.org.zw/cgi-bin/search?domain=".$dom.$domt."&submit= Check","r")))
 {
   return(5);
 }
 $buf="";
 do
 {
   $buf1 = fread($fh, 100000);
   if (strlen($buf1) == 0)
   {
     break;
   }
   $buf .= $buf1;
 }
 while (true);
 fclose($fh);
 $pos=strpos($buf,"is available");
 if (!is_integer($pos))
 {
   $regdet[]=$dom.$domt." is registered";
   $regdet[]="Full whois contact data not available for $domt domains";
   return(1); // Not available
 }
 return(0); // Available
}



function bywhois($dom,$domt,&$regdet)
{
 if (!($fh=@fopen("http://www.tld.by/cgi-bin/registry.cgi?mode=slquest&lang=e&domain=".$dom,"r")))
 {
   return(5);
 }
 $buf="";
   do
   {
  $buf1 = fread($fh, 100000);
  if (strlen($buf1) == 0)
  {
      break;
     }
  $buf .= $buf1;
   }
    while (true);
 fclose($fh);
 $pos=strpos($buf,"is available for registration");
 if (!is_integer($pos))
 {
     $pos=strpos($buf,"0a.");
     if (is_integer($pos))
     {
       $buf=substr($buf,$pos);
       $regdet=explode("\n",$buf);
     }
     return(1); // Not available
 }
 return(0); // Available
}

function grwhois($dom,$domt,&$regdet)
{
	global $grusername,$grpassword;
	if ($regdet=="*")
  {
//  	if (!($fh=fopen("http://devweb.ics.forth.gr:800/plainDomainCheck?domainName=".$dom.$domt,"rb")))
  	if (!($fh=fopen("http://grwhois.ics.forth.gr:800/plainDomainCheck?domainName=".$dom.$domt,"rb")))
  	{
  		return(5);
  	}
  	$contents = fread ($fh, 100000);
  	fclose ($fh);
  	if (is_integer(strpos(strtolower($contents),"object exists")))
  	  return(1); // Domain not available  
    return(0); // Domain available
  }
  else
  {
//  	if (!($fh=fopen("http://devweb.ics.forth.gr:800/plainwhois/plainWhois?domainName=".$dom.$domt,"rb")))
  	if (!($fh=fopen("http://grwhois.ics.forth.gr:800/plainwhois/plainWhois?domainName=".$dom.$domt,"rb")))
  	{
  		return(5);
  	}
  	$contents = fread ($fh, 100000);
  	fclose ($fh);
  	$i=strpos(strtolower($contents),"<body>");
  	if (is_integer($i))
  	{
  	  $contents=substr($contents,$i+6);
  	}
  	$i=strpos(strtolower($contents),"</body>");
  	if (is_integer($i))
  	{
  	  $contents=substr($contents,0,$i);
  	}
  	$regdet=explode("<br />",$contents);
  	if (is_integer(strpos(strtolower($contents),"domain does not exist")))
  	  return(0); // Domain available  
    return(1); // domain not available
  }  
}

function phwhois($dom,$domt,&$regdet)
{
  if (!($fh=@fopen("http://www.domains.ph/WhoIs.asp?Domain=".$dom.$domt,"r")))
  {
    return(5);
  }
  $buf="";
	do
	{
   $buf1 = fread($fh, 100000);
   if (strlen($buf1) == 0)
   {
       break;
 	 }
   $buf .= $buf1;
	}
 	while (true);
  fclose($fh);
  $pos=strpos($buf,"still available");
  if (!is_integer($pos))
  {
	  $pos=strpos($buf,"<table");
	  $pos2=strpos($buf,"<table",$pos+1);
	  $pos3=strpos($buf,"</table",$pos2);
	  if (is_integer($pos2) && (is_integer($pos3)))
	  {
	    $buf=substr($buf,$pos2,$pos3-$pos2);
	    $buf=str_replace("<tr>","\n",$buf);
	    $buf=str_replace("<br />","\n",$buf);
	    $buf=str_replace("</td>"," ",$buf);
	    $buf=strip_tags($buf);
	    $regdet=explode("\n",$buf);
	  }
	  return(1); // Not available
  }
  return(0); // Available
}

function cymcowhois($dom,$domt,&$regdet)
{
  if (!($fh=@fopen("http://whois.welshwideweb.co.uk/?search=".$dom.$domt,"r")))
  {
    return(5);
  }
  $buf="";
	do
	{
   $buf1 = fread($fh, 100000);
   if (strlen($buf1) == 0)
   {
       break;
 	 }
   $buf .= $buf1;
	}
 	while (true);
  fclose($fh);
  $pos=strpos($buf,"no database entry");
  if (!is_integer($pos))
  {
	  $buf=strip_tags($buf);
	  $tempregdet=explode("\n",$buf);
    // get rid of  . at start of lines
    for ($k=0;$k<count($tempregdet);$k++)
      $tempregdet[$k]=str_replace(" .","",$tempregdet[$k]);
    // Get rid of multiple blank lines
    $lastwasblank=false;
    $c=0;
    for ($k=0;$k<count($tempregdet);$k++)
    {
      if ((!$lastwasblank) || (trim($tempregdet[$k])!=""))
      {
        $regdet[$c]=$tempregdet[$k];
        $c++;
        $lastwasblank=false;
      } 
      if (trim($tempregdet[$k])=="")
        $lastwasblank=true;         
    } 
    return(1); // Not available
  }
  return(0); // Available
}

function pewhois($dom,$domt,&$regdet)
{
  if (!($fh=@fopen("http://red.pe/api/pe.php?BuscarDominio=".$dom.$domt,"r")))
  {
    return(5);
  }
  $buf="";
	do
	{
   $buf1 = fread($fh, 100000);
   if (strlen($buf1) == 0)
   {
       break;
 	 }
   $buf .= $buf1;
	}
 	while (true);
  fclose($fh);
  $pos=strpos($buf,"LIBRE");
  if (!is_integer($pos))
  {
	  $pos=strpos($buf,"</h2");
	  $pos2=strpos($buf,"</div>",$pos+1);
	  if (is_integer($pos) && (is_integer($pos2)))
	  {
	    $buf=substr($buf,$pos,$pos2-$pos);
	    $buf=strip_tags($buf);
	    $regdet=explode("\n",$buf);
	  }
	  return(1); // Not available
  }
  return(0); // Available
}

function getxmldata($contents,$tag)
{
	$tag=strtolower($tag);
  $contentslower=strtolower($contents);
  $pos = strpos($contentslower, "<".$tag.">");
  $pos2 = strpos($contentslower, "</".$tag.">");
  if ((is_integer($pos)) && (is_integer($pos2)))
    return( substr($contents, $pos + strlen($tag)+2, $pos2 - $pos-(strlen($tag)+2)));
  else
  	return("");
}





// {{{ license

/* vim: set expandtab tabstop=4 shiftwidth=4 softtabstop=4 foldmethod=marker: */
//
// +----------------------------------------------------------------------+
// | This library is free software; you can redistribute it and/or modify |
// | it under the terms of the GNU Lesser General Public License as       |
// | published by the Free Software Foundation; either version 2.1 of the |
// | License, or (at your option) any later version.                      |
// |                                                                      |
// | This library is distributed in the hope that it will be useful, but  |
// | WITHOUT ANY WARRANTY; without even the implied warranty of           |
// | MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU    |
// | Lesser General Public License for more details.                      |
// |                                                                      |
// | You should have received a copy of the GNU Lesser General Public     |
// | License along with this library; if not, write to the Free Software  |
// | Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 |
// | USA.                                                                 |
// +----------------------------------------------------------------------+
//

// }}}

/**
 * Encode/decode Internationalized Domain Names.
 *
 * The class allows to convert internationalized domain names
 * (see RFC 3490 for details) as they can be used with various registries worldwide
 * to be translated between their original (localized) form and their encoded form
 * as it will be used in the DNS (Domain Name System).
 *
 * The class provides two public methods, encode() and decode(), which do exactly
 * what you would expect them to do. You are allowed to use complete domain names,
 * simple strings and complete email addresses as well. That means, that you might
 * use any of the following notations:
 *
 * - www.nrgler.com
 * - xn--nrgler-wxa
 * - xn--brse-5qa.xn--knrz-1ra.info
 *
 * Unicode input might be given as either UTF-8 string, UCS-4 string or UCS-4 array.
 * Unicode output is available in the same formats.
 * You can select your preferred format via {@link set_paramter()}.
 *
 * ACE input and output is always expected to be ASCII.
 *
 * @author  Matthias Sommerfeld <mso@phlylabs.de>
 * @copyright 2004-2011 phlyLabs Berlin, http://phlylabs.de
 * @version 0.8.0 2011-03-11
 */
class idna_convert
{
    // NP See below

    // Internal settings, do not mess with them
    protected $_punycode_prefix = 'xn--';
    protected $_invalid_ucs = 0x80000000;
    protected $_max_ucs = 0x10FFFF;
    protected $_base = 36;
    protected $_tmin = 1;
    protected $_tmax = 26;
    protected $_skew = 38;
    protected $_damp = 700;
    protected $_initial_bias = 72;
    protected $_initial_n = 0x80;
    protected $_sbase = 0xAC00;
    protected $_lbase = 0x1100;
    protected $_vbase = 0x1161;
    protected $_tbase = 0x11A7;
    protected $_lcount = 19;
    protected $_vcount = 21;
    protected $_tcount = 28;
    protected $_ncount = 588;   // _vcount * _tcount
    protected $_scount = 11172; // _lcount * _tcount * _vcount
    protected $_error = false;

    protected static $_mb_string_overload = null;

    // See {@link set_paramter()} for details of how to change the following
    // settings from within your script / application
    protected $_api_encoding = 'utf8';   // Default input charset is UTF-8
    protected $_allow_overlong = false;  // Overlong UTF-8 encodings are forbidden
    protected $_strict_mode = false;     // Behave strict or not
    protected $_idn_version = 2003;      // Can be either 2003 (old, default) or 2008

    /**
     * the constructor
     *
     * @param array $options
     * @return boolean
     * @since 0.5.2
     */
    public function __construct($options = false)
    {
        $this->slast = $this->_sbase + $this->_lcount * $this->_vcount * $this->_tcount;
        // If parameters are given, pass these to the respective method
        if (is_array($options)) {
            $this->set_parameter($options);
        }

        // populate mbstring overloading cache if not set
        if (self::$_mb_string_overload === null) {
            self::$_mb_string_overload = (extension_loaded('mbstring')
                && (ini_get('mbstring.func_overload') & 0x02) === 0x02);
        }
    }

    /**
     * Sets a new option value. Available options and values:
     * [encoding - Use either UTF-8, UCS4 as array or UCS4 as string as input ('utf8' for UTF-8,
     *         'ucs4_string' and 'ucs4_array' respectively for UCS4); The output is always UTF-8]
     * [overlong - Unicode does not allow unnecessarily long encodings of chars,
     *             to allow this, set this parameter to true, else to false;
     *             default is false.]
     * [strict - true: strict mode, good for registration purposes - Causes errors
     *           on failures; false: loose mode, ideal for "wildlife" applications
     *           by silently ignoring errors and returning the original input instead
     *
     * @param    mixed     Parameter to set (string: single parameter; array of Parameter => Value pairs)
     * @param    string    Value to use (if parameter 1 is a string)
     * @return   boolean   true on success, false otherwise
     */
    public function set_parameter($option, $value = false)
    {
        if (!is_array($option)) {
            $option = array($option => $value);
        }
        foreach ($option as $k => $v) {
            switch ($k) {
            case 'encoding':
                switch ($v) {
                case 'utf8':
                case 'ucs4_string':
                case 'ucs4_array':
                    $this->_api_encoding = $v;
                    break;
                default:
                    $this->_error('Set Parameter: Unknown parameter '.$v.' for option '.$k);
                    return false;
                }
                break;
            case 'overlong':
                $this->_allow_overlong = ($v) ? true : false;
                break;
            case 'strict':
                $this->_strict_mode = ($v) ? true : false;
                break;
            case 'idn_version':
                if (in_array($v, array('2003', '2008'))) {
                    $this->_idn_version = $v;
                } else {
                    $this->_error('Set Parameter: Unknown parameter '.$v.' for option '.$k);
                }
                break;
            case 'encode_german_sz': // Deprecated
                if (!$v) {
                    self::$NP['replacemaps'][0xDF] = array(0x73, 0x73);
                } else {
                    unset(self::$NP['replacemaps'][0xDF]);
                }
                break;
            default:
                $this->_error('Set Parameter: Unknown option '.$k);
                return false;
            }
        }
        return true;
    }

    /**
     * Decode a given ACE domain name
     * @param    string   Domain name (ACE string)
     * [@param    string   Desired output encoding, see {@link set_parameter}]
     * @return   string   Decoded Domain name (UTF-8 or UCS-4)
     */
    public function decode($input, $one_time_encoding = false)
    {
        // Optionally set
        if ($one_time_encoding) {
            switch ($one_time_encoding) {
            case 'utf8':
            case 'ucs4_string':
            case 'ucs4_array':
                break;
            default:
                $this->_error('Unknown encoding '.$one_time_encoding);
                return false;
            }
        }
        // Make sure to drop any newline characters around
        $input = trim($input);

        // Negotiate input and try to determine, whether it is a plain string,
        // an email address or something like a complete URL
        if (strpos($input, '@')) { // Maybe it is an email address
            // No no in strict mode
            if ($this->_strict_mode) {
                $this->_error('Only simple domain name parts can be handled in strict mode');
                return false;
            }
            list ($email_pref, $input) = explode('@', $input, 2);
            $arr = explode('.', $input);
            foreach ($arr as $k => $v) {
                if (preg_match('!^'.preg_quote($this->_punycode_prefix, '!').'!', $v)) {
                    $conv = $this->_decode($v);
                    if ($conv) $arr[$k] = $conv;
                }
            }
            $input = join('.', $arr);
            $arr = explode('.', $email_pref);
            foreach ($arr as $k => $v) {
                if (preg_match('!^'.preg_quote($this->_punycode_prefix, '!').'!', $v)) {
                    $conv = $this->_decode($v);
                    if ($conv) $arr[$k] = $conv;
                }
            }
            $email_pref = join('.', $arr);
            $return = $email_pref . '@' . $input;
        } elseif (preg_match('![:\./]!', $input)) { // Or a complete domain name (with or without paths / parameters)
            // No no in strict mode
            if ($this->_strict_mode) {
                $this->_error('Only simple domain name parts can be handled in strict mode');
                return false;
            }
            $parsed = parse_url($input);
            if (isset($parsed['host'])) {
                $arr = explode('.', $parsed['host']);
                foreach ($arr as $k => $v) {
                    $conv = $this->_decode($v);
                    if ($conv) $arr[$k] = $conv;
                }
                $parsed['host'] = join('.', $arr);
                $return =
                        (empty($parsed['scheme']) ? '' : $parsed['scheme'].(strtolower($parsed['scheme']) == 'mailto' ? ':' : '://'))
                        .(empty($parsed['user']) ? '' : $parsed['user'].(empty($parsed['pass']) ? '' : ':'.$parsed['pass']).'@')
                        .$parsed['host']
                        .(empty($parsed['port']) ? '' : ':'.$parsed['port'])
                        .(empty($parsed['path']) ? '' : $parsed['path'])
                        .(empty($parsed['query']) ? '' : '?'.$parsed['query'])
                        .(empty($parsed['fragment']) ? '' : '#'.$parsed['fragment']);
            } else { // parse_url seems to have failed, try without it
                $arr = explode('.', $input);
                foreach ($arr as $k => $v) {
                    $conv = $this->_decode($v);
                    $arr[$k] = ($conv) ? $conv : $v;
                }
                $return = join('.', $arr);
            }
        } else { // Otherwise we consider it being a pure domain name string
            $return = $this->_decode($input);
            if (!$return) $return = $input;
        }
        // The output is UTF-8 by default, other output formats need conversion here
        // If one time encoding is given, use this, else the objects property
        switch (($one_time_encoding) ? $one_time_encoding : $this->_api_encoding) {
        case 'utf8':
            return $return;
            break;
        case 'ucs4_string':
           return $this->_ucs4_to_ucs4_string($this->_utf8_to_ucs4($return));
           break;
        case 'ucs4_array':
            return $this->_utf8_to_ucs4($return);
            break;
        default:
            $this->_error('Unsupported output format');
            return false;
        }
    }

    /**
     * Encode a given UTF-8 domain name
     * @param    string   Domain name (UTF-8 or UCS-4)
     * [@param    string   Desired input encoding, see {@link set_parameter}]
     * @return   string   Encoded Domain name (ACE string)
     */
    public function encode($decoded, $one_time_encoding = false)
    {
        // Forcing conversion of input to UCS4 array
        // If one time encoding is given, use this, else the objects property
        switch ($one_time_encoding ? $one_time_encoding : $this->_api_encoding) {
        case 'utf8':
            $decoded = $this->_utf8_to_ucs4($decoded);
            break;
        case 'ucs4_string':
           $decoded = $this->_ucs4_string_to_ucs4($decoded);
        case 'ucs4_array':
           break;
        default:
            $this->_error('Unsupported input format: '.($one_time_encoding ? $one_time_encoding : $this->_api_encoding));
            return false;
        }

        // No input, no output, what else did you expect?
        if (empty($decoded)) return '';

        // Anchors for iteration
        $last_begin = 0;
        // Output string
        $output = '';
        foreach ($decoded as $k => $v) {
            // Make sure to use just the plain dot
            switch($v) {
            case 0x3002:
            case 0xFF0E:
            case 0xFF61:
                $decoded[$k] = 0x2E;
                // Right, no break here, the above are converted to dots anyway
            // Stumbling across an anchoring character
            case 0x2E:
            case 0x2F:
            case 0x3A:
            case 0x3F:
            case 0x40:
                // Neither email addresses nor URLs allowed in strict mode
                if ($this->_strict_mode) {
                   $this->_error('Neither email addresses nor URLs are allowed in strict mode.');
                   return false;
                } else {
                    // Skip first char
                    if ($k) {
                        $encoded = '';
                        $encoded = $this->_encode(array_slice($decoded, $last_begin, (($k)-$last_begin)));
                        if ($encoded) {
                            $output .= $encoded;
                        } else {
                            $output .= $this->_ucs4_to_utf8(array_slice($decoded, $last_begin, (($k)-$last_begin)));
                        }
                        $output .= chr($decoded[$k]);
                    }
                    $last_begin = $k + 1;
                }
            }
        }
        // Catch the rest of the string
        if ($last_begin) {
            $inp_len = sizeof($decoded);
            $encoded = '';
            $encoded = $this->_encode(array_slice($decoded, $last_begin, (($inp_len)-$last_begin)));
            if ($encoded) {
                $output .= $encoded;
            } else {
                $output .= $this->_ucs4_to_utf8(array_slice($decoded, $last_begin, (($inp_len)-$last_begin)));
            }
            return $output;
        } else {
            if ($output = $this->_encode($decoded)) {
                return $output;
            } else {
                return $this->_ucs4_to_utf8($decoded);
            }
        }
    }

    /**
     * Removes a weakness of encode(), which cannot properly handle URIs but instead encodes their
     * path or query components, too.
     * @param string  $uri  Expects the URI as a UTF-8 (or ASCII) string
     * @return  string  The URI encoded to Punycode, everything but the host component is left alone
     * @since 0.6.4
     */
    public function encode_uri($uri)
    {
        $parsed = parse_url($uri);
        if (!isset($parsed['host'])) {
            $this->_error('The given string does not look like a URI');
            return false;
        }
        $arr = explode('.', $parsed['host']);
        foreach ($arr as $k => $v) {
            $conv = $this->encode($v, 'utf8');
            if ($conv) $arr[$k] = $conv;
        }
        $parsed['host'] = join('.', $arr);
        $return =
                (empty($parsed['scheme']) ? '' : $parsed['scheme'].(strtolower($parsed['scheme']) == 'mailto' ? ':' : '://'))
                .(empty($parsed['user']) ? '' : $parsed['user'].(empty($parsed['pass']) ? '' : ':'.$parsed['pass']).'@')
                .$parsed['host']
                .(empty($parsed['port']) ? '' : ':'.$parsed['port'])
                .(empty($parsed['path']) ? '' : $parsed['path'])
                .(empty($parsed['query']) ? '' : '?'.$parsed['query'])
                .(empty($parsed['fragment']) ? '' : '#'.$parsed['fragment']);
        return $return;
    }

    /**
     * Use this method to get the last error ocurred
     * @param    void
     * @return   string   The last error, that occured
     */
    public function get_last_error()
    {
        return $this->_error;
    }

    /**
     * The actual decoding algorithm
     * @param string
     * @return mixed
     */
    protected function _decode($encoded)
    {
        $decoded = array();
        // find the Punycode prefix
        if (!preg_match('!^'.preg_quote($this->_punycode_prefix, '!').'!', $encoded)) {
            $this->_error('This is not a punycode string');
            return false;
        }
        $encode_test = preg_replace('!^'.preg_quote($this->_punycode_prefix, '!').'!', '', $encoded);
        // If nothing left after removing the prefix, it is hopeless
        if (!$encode_test) {
            $this->_error('The given encoded string was empty');
            return false;
        }
        // Find last occurence of the delimiter
        $delim_pos = strrpos($encoded, '-');
        if ($delim_pos > self::byteLength($this->_punycode_prefix)) {
            for ($k = self::byteLength($this->_punycode_prefix); $k < $delim_pos; ++$k) {
                $decoded[] = ord($encoded{$k});
            }
        }
        $deco_len = count($decoded);
        $enco_len = self::byteLength($encoded);

        // Wandering through the strings; init
        $is_first = true;
        $bias = $this->_initial_bias;
        $idx = 0;
        $char = $this->_initial_n;

        for ($enco_idx = ($delim_pos) ? ($delim_pos + 1) : 0; $enco_idx < $enco_len; ++$deco_len) {
            for ($old_idx = $idx, $w = 1, $k = $this->_base; 1 ; $k += $this->_base) {
                $digit = $this->_decode_digit($encoded{$enco_idx++});
                $idx += $digit * $w;
                $t = ($k <= $bias) ? $this->_tmin :
                        (($k >= $bias + $this->_tmax) ? $this->_tmax : ($k - $bias));
                if ($digit < $t) break;
                $w = (int) ($w * ($this->_base - $t));
            }
            $bias = $this->_adapt($idx - $old_idx, $deco_len + 1, $is_first);
            $is_first = false;
            $char += (int) ($idx / ($deco_len + 1));
            $idx %= ($deco_len + 1);
            if ($deco_len > 0) {
                // Make room for the decoded char
                for ($i = $deco_len; $i > $idx; $i--) $decoded[$i] = $decoded[($i - 1)];
            }
            $decoded[$idx++] = $char;
        }
        return $this->_ucs4_to_utf8($decoded);
    }

    /**
     * The actual encoding algorithm
     * @param  string
     * @return mixed
     */
    protected function _encode($decoded)
    {
        // We cannot encode a domain name containing the Punycode prefix
        $extract = self::byteLength($this->_punycode_prefix);
        $check_pref = $this->_utf8_to_ucs4($this->_punycode_prefix);
        $check_deco = array_slice($decoded, 0, $extract);

        if ($check_pref == $check_deco) {
            $this->_error('This is already a punycode string');
            return false;
        }
        // We will not try to encode strings consisting of basic code points only
        $encodable = false;
        foreach ($decoded as $k => $v) {
            if ($v > 0x7a) {
                $encodable = true;
                break;
            }
        }
        if (!$encodable) {
            $this->_error('The given string does not contain encodable chars');
            return false;
        }
        // Do NAMEPREP
        $decoded = $this->_nameprep($decoded);
        if (!$decoded || !is_array($decoded)) return false; // NAMEPREP failed
        $deco_len  = count($decoded);
        if (!$deco_len) return false; // Empty array
        $codecount = 0; // How many chars have been consumed
        $encoded = '';
        // Copy all basic code points to output
        for ($i = 0; $i < $deco_len; ++$i) {
            $test = $decoded[$i];
            // Will match [-0-9a-zA-Z]
            if ((0x2F < $test && $test < 0x40) || (0x40 < $test && $test < 0x5B)
                    || (0x60 < $test && $test <= 0x7B) || (0x2D == $test)) {
                $encoded .= chr($decoded[$i]);
                $codecount++;
            }
        }
        if ($codecount == $deco_len) return $encoded; // All codepoints were basic ones

        // Start with the prefix; copy it to output
        $encoded = $this->_punycode_prefix.$encoded;
        // If we have basic code points in output, add an hyphen to the end
        if ($codecount) $encoded .= '-';
        // Now find and encode all non-basic code points
        $is_first = true;
        $cur_code = $this->_initial_n;
        $bias = $this->_initial_bias;
        $delta = 0;
        while ($codecount < $deco_len) {
            // Find the smallest code point >= the current code point and
            // remember the last ouccrence of it in the input
            for ($i = 0, $next_code = $this->_max_ucs; $i < $deco_len; $i++) {
                if ($decoded[$i] >= $cur_code && $decoded[$i] <= $next_code) {
                    $next_code = $decoded[$i];
                }
            }
            $delta += ($next_code - $cur_code) * ($codecount + 1);
            $cur_code = $next_code;

            // Scan input again and encode all characters whose code point is $cur_code
            for ($i = 0; $i < $deco_len; $i++) {
                if ($decoded[$i] < $cur_code) {
                    $delta++;
                } elseif ($decoded[$i] == $cur_code) {
                    for ($q = $delta, $k = $this->_base; 1; $k += $this->_base) {
                        $t = ($k <= $bias) ? $this->_tmin :
                                (($k >= $bias + $this->_tmax) ? $this->_tmax : $k - $bias);
                        if ($q < $t) break;
                        $encoded .= $this->_encode_digit(intval($t + (($q - $t) % ($this->_base - $t)))); //v0.4.5 Changed from ceil() to intval()
                        $q = (int) (($q - $t) / ($this->_base - $t));
                    }
                    $encoded .= $this->_encode_digit($q);
                    $bias = $this->_adapt($delta, $codecount+1, $is_first);
                    $codecount++;
                    $delta = 0;
                    $is_first = false;
                }
            }
            $delta++;
            $cur_code++;
        }
        return $encoded;
    }

    /**
     * Adapt the bias according to the current code point and position
     * @param int $delta
     * @param int $npoints
     * @param int $is_first
     * @return int
     */
    protected function _adapt($delta, $npoints, $is_first)
    {
        $delta = intval($is_first ? ($delta / $this->_damp) : ($delta / 2));
        $delta += intval($delta / $npoints);
        for ($k = 0; $delta > (($this->_base - $this->_tmin) * $this->_tmax) / 2; $k += $this->_base) {
            $delta = intval($delta / ($this->_base - $this->_tmin));
        }
        return intval($k + ($this->_base - $this->_tmin + 1) * $delta / ($delta + $this->_skew));
    }

    /**
     * Encoding a certain digit
     * @param    int $d
     * @return string
     */
    protected function _encode_digit($d)
    {
        return chr($d + 22 + 75 * ($d < 26));
    }

    /**
     * Decode a certain digit
     * @param    int $cp
     * @return int
     */
    protected function _decode_digit($cp)
    {
        $cp = ord($cp);
        return ($cp - 48 < 10) ? $cp - 22 : (($cp - 65 < 26) ? $cp - 65 : (($cp - 97 < 26) ? $cp - 97 : $this->_base));
    }

    /**
     * Internal error handling method
     * @param  string $error
     */
    protected function _error($error = '')
    {
        $this->_error = $error;
    }

    /**
     * Do Nameprep according to RFC3491 and RFC3454
     * @param    array    Unicode Characters
     * @return   string   Unicode Characters, Nameprep'd
     */
    protected function _nameprep($input)
    {
        $output = array();
        $error = false;
        //
        // Mapping
        // Walking through the input array, performing the required steps on each of
        // the input chars and putting the result into the output array
        // While mapping required chars we apply the cannonical ordering
        foreach ($input as $v) {
            // Map to nothing == skip that code point
            if (in_array($v, self::$NP['map_nothing'])) continue;
            // Try to find prohibited input
            if (in_array($v, self::$NP['prohibit']) || in_array($v, self::$NP['general_prohibited'])) {
                $this->_error('NAMEPREP: Prohibited input U+'.sprintf('%08X', $v));
                return false;
            }
            foreach (self::$NP['prohibit_ranges'] as $range) {
                if ($range[0] <= $v && $v <= $range[1]) {
                    $this->_error('NAMEPREP: Prohibited input U+'.sprintf('%08X', $v));
                    return false;
                }
            }

            if (0xAC00 <= $v && $v <= 0xD7AF) {
                // Hangul syllable decomposition
                foreach ($this->_hangul_decompose($v) as $out) {
                    $output[] = (int) $out;
                }
            } elseif (($this->_idn_version == '2003') && isset(self::$NP['replacemaps'][$v])) {
                // There's a decomposition mapping for that code point
                // Decompositions only in version 2003 (original) of IDNA
                foreach ($this->_apply_cannonical_ordering(self::$NP['replacemaps'][$v]) as $out) {
                    $output[] = (int) $out;
                }
            } else {
                $output[] = (int) $v;
            }
        }
        // Before applying any Combining, try to rearrange any Hangul syllables
        $output = $this->_hangul_compose($output);
        //
        // Combine code points
        //
        $last_class = 0;
        $last_starter = 0;
        $out_len = count($output);
        for ($i = 0; $i < $out_len; ++$i) {
            $class = $this->_get_combining_class($output[$i]);
            if ((!$last_class || $last_class > $class) && $class) {
                // Try to match
                $seq_len = $i - $last_starter;
                $out = $this->_combine(array_slice($output, $last_starter, $seq_len));
                // On match: Replace the last starter with the composed character and remove
                // the now redundant non-starter(s)
                if ($out) {
                    $output[$last_starter] = $out;
                    if (count($out) != $seq_len) {
                        for ($j = $i+1; $j < $out_len; ++$j) $output[$j-1] = $output[$j];
                        unset($output[$out_len]);
                    }
                    // Rewind the for loop by one, since there can be more possible compositions
                    $i--;
                    $out_len--;
                    $last_class = ($i == $last_starter) ? 0 : $this->_get_combining_class($output[$i-1]);
                    continue;
                }
            }
            // The current class is 0
            if (!$class) $last_starter = $i;
            $last_class = $class;
        }
        return $output;
    }

    /**
     * Decomposes a Hangul syllable
     * (see http://www.unicode.org/unicode/reports/tr15/#Hangul
     * @param    integer  32bit UCS4 code point
     * @return   array    Either Hangul Syllable decomposed or original 32bit value as one value array
     */
    protected function _hangul_decompose($char)
    {
        $sindex = (int) $char - $this->_sbase;
        if ($sindex < 0 || $sindex >= $this->_scount) return array($char);
        $result = array();
        $result[] = (int) $this->_lbase + $sindex / $this->_ncount;
        $result[] = (int) $this->_vbase + ($sindex % $this->_ncount) / $this->_tcount;
        $T = intval($this->_tbase + $sindex % $this->_tcount);
        if ($T != $this->_tbase) $result[] = $T;
        return $result;
    }
    /**
     * Ccomposes a Hangul syllable
     * (see http://www.unicode.org/unicode/reports/tr15/#Hangul
     * @param    array    Decomposed UCS4 sequence
     * @return   array    UCS4 sequence with syllables composed
     */
    protected function _hangul_compose($input)
    {
        $inp_len = count($input);
        if (!$inp_len) return array();
        $result = array();
        $last = (int) $input[0];
        $result[] = $last; // copy first char from input to output

        for ($i = 1; $i < $inp_len; ++$i) {
            $char = (int) $input[$i];
            $sindex = $last - $this->_sbase;
            $lindex = $last - $this->_lbase;
            $vindex = $char - $this->_vbase;
            $tindex = $char - $this->_tbase;
            // Find out, whether two current characters are LV and T
            if (0 <= $sindex && $sindex < $this->_scount && ($sindex % $this->_tcount == 0)
                    && 0 <= $tindex && $tindex <= $this->_tcount) {
                // create syllable of form LVT
                $last += $tindex;
                $result[(count($result) - 1)] = $last; // reset last
                continue; // discard char
            }
            // Find out, whether two current characters form L and V
            if (0 <= $lindex && $lindex < $this->_lcount && 0 <= $vindex && $vindex < $this->_vcount) {
                // create syllable of form LV
                $last = (int) $this->_sbase + ($lindex * $this->_vcount + $vindex) * $this->_tcount;
                $result[(count($result) - 1)] = $last; // reset last
                continue; // discard char
            }
            // if neither case was true, just add the character
            $last = $char;
            $result[] = $char;
        }
        return $result;
    }

    /**
     * Returns the combining class of a certain wide char
     * @param    integer    Wide char to check (32bit integer)
     * @return   integer    Combining class if found, else 0
     */
    protected function _get_combining_class($char)
    {
        return isset(self::$NP['norm_combcls'][$char]) ? self::$NP['norm_combcls'][$char] : 0;
    }

    /**
     * Applies the cannonical ordering of a decomposed UCS4 sequence
     * @param    array      Decomposed UCS4 sequence
     * @return   array      Ordered USC4 sequence
     */
    protected function _apply_cannonical_ordering($input)
    {
        $swap = true;
        $size = count($input);
        while ($swap) {
            $swap = false;
            $last = $this->_get_combining_class(intval($input[0]));
            for ($i = 0; $i < $size-1; ++$i) {
                $next = $this->_get_combining_class(intval($input[$i+1]));
                if ($next != 0 && $last > $next) {
                    // Move item leftward until it fits
                    for ($j = $i + 1; $j > 0; --$j) {
                        if ($this->_get_combining_class(intval($input[$j-1])) <= $next) break;
                        $t = intval($input[$j]);
                        $input[$j] = intval($input[$j-1]);
                        $input[$j-1] = $t;
                        $swap = true;
                    }
                    // Reentering the loop looking at the old character again
                    $next = $last;
                }
                $last = $next;
            }
        }
        return $input;
    }

    /**
     * Do composition of a sequence of starter and non-starter
     * @param    array      UCS4 Decomposed sequence
     * @return   array      Ordered USC4 sequence
     */
    protected function _combine($input)
    {
        $inp_len = count($input);
        foreach (self::$NP['replacemaps'] as $np_src => $np_target) {
            if ($np_target[0] != $input[0]) continue;
            if (count($np_target) != $inp_len) continue;
            $hit = false;
            foreach ($input as $k2 => $v2) {
                if ($v2 == $np_target[$k2]) {
                    $hit = true;
                } else {
                    $hit = false;
                    break;
                }
            }
            if ($hit) return $np_src;
        }
        return false;
    }

    /**
     * This converts an UTF-8 encoded string to its UCS-4 representation
     * By talking about UCS-4 "strings" we mean arrays of 32bit integers representing
     * each of the "chars". This is due to PHP not being able to handle strings with
     * bit depth different from 8. This apllies to the reverse method _ucs4_to_utf8(), too.
     * The following UTF-8 encodings are supported:
     * bytes bits  representation
     * 1        7  0xxxxxxx
     * 2       11  110xxxxx 10xxxxxx
     * 3       16  1110xxxx 10xxxxxx 10xxxxxx
     * 4       21  11110xxx 10xxxxxx 10xxxxxx 10xxxxxx
     * 5       26  111110xx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx
     * 6       31  1111110x 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx
     * Each x represents a bit that can be used to store character data.
     * The five and six byte sequences are part of Annex D of ISO/IEC 10646-1:2000
     * @param string $input
     * @return string
     */
    protected function _utf8_to_ucs4($input)
    {
        $output = array();
        $out_len = 0;
        $inp_len = self::byteLength($input);
        $mode = 'next';
        $test = 'none';
        for ($k = 0; $k < $inp_len; ++$k) {
            $v = ord($input{$k}); // Extract byte from input string
            if ($v < 128) { // We found an ASCII char - put into stirng as is
                $output[$out_len] = $v;
                ++$out_len;
                if ('add' == $mode) {
                    $this->_error('Conversion from UTF-8 to UCS-4 failed: malformed input at byte '.$k);
                    return false;
                }
                continue;
            }
            if ('next' == $mode) { // Try to find the next start byte; determine the width of the Unicode char
                $start_byte = $v;
                $mode = 'add';
                $test = 'range';
                if ($v >> 5 == 6) { // &110xxxxx 10xxxxx
                    $next_byte = 0; // Tells, how many times subsequent bitmasks must rotate 6bits to the left
                    $v = ($v - 192) << 6;
                } elseif ($v >> 4 == 14) { // &1110xxxx 10xxxxxx 10xxxxxx
                    $next_byte = 1;
                    $v = ($v - 224) << 12;
                } elseif ($v >> 3 == 30) { // &11110xxx 10xxxxxx 10xxxxxx 10xxxxxx
                    $next_byte = 2;
                    $v = ($v - 240) << 18;
                } elseif ($v >> 2 == 62) { // &111110xx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx
                    $next_byte = 3;
                    $v = ($v - 248) << 24;
                } elseif ($v >> 1 == 126) { // &1111110x 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx
                    $next_byte = 4;
                    $v = ($v - 252) << 30;
                } else {
                    $this->_error('This might be UTF-8, but I don\'t understand it at byte '.$k);
                    return false;
                }
                if ('add' == $mode) {
                    $output[$out_len] = (int) $v;
                    ++$out_len;
                    continue;
                }
            }
            if ('add' == $mode) {
                if (!$this->_allow_overlong && $test == 'range') {
                    $test = 'none';
                    if (($v < 0xA0 && $start_byte == 0xE0) || ($v < 0x90 && $start_byte == 0xF0) || ($v > 0x8F && $start_byte == 0xF4)) {
                        $this->_error('Bogus UTF-8 character detected (out of legal range) at byte '.$k);
                        return false;
                    }
                }
                if ($v >> 6 == 2) { // Bit mask must be 10xxxxxx
                    $v = ($v - 128) << ($next_byte * 6);
                    $output[($out_len - 1)] += $v;
                    --$next_byte;
                } else {
                    $this->_error('Conversion from UTF-8 to UCS-4 failed: malformed input at byte '.$k);
                    return false;
                }
                if ($next_byte < 0) {
                    $mode = 'next';
                }
            }
        } // for
        return $output;
    }

    /**
     * Convert UCS-4 string into UTF-8 string
     * See _utf8_to_ucs4() for details
     * @param string  $input
     * @return string
     */
    protected function _ucs4_to_utf8($input)
    {
        $output = '';
        foreach ($input as $k => $v) {
            if ($v < 128) { // 7bit are transferred literally
                $output .= chr($v);
            } elseif ($v < (1 << 11)) { // 2 bytes
                $output .= chr(192+($v >> 6)).chr(128+($v & 63));
            } elseif ($v < (1 << 16)) { // 3 bytes
                $output .= chr(224+($v >> 12)).chr(128+(($v >> 6) & 63)).chr(128+($v & 63));
            } elseif ($v < (1 << 21)) { // 4 bytes
                $output .= chr(240+($v >> 18)).chr(128+(($v >> 12) & 63)).chr(128+(($v >> 6) & 63)).chr(128+($v & 63));
            } elseif (self::$safe_mode) {
                $output .= self::$safe_char;
            } else {
                $this->_error('Conversion from UCS-4 to UTF-8 failed: malformed input at byte '.$k);
                return false;
            }
        }
        return $output;
    }

    /**
     * Convert UCS-4 array into UCS-4 string
     *
     * @param array $input
     * @return string
     */
    protected function _ucs4_to_ucs4_string($input)
    {
        $output = '';
        // Take array values and split output to 4 bytes per value
        // The bit mask is 255, which reads &11111111
        foreach ($input as $v) {
            $output .= chr(($v >> 24) & 255).chr(($v >> 16) & 255).chr(($v >> 8) & 255).chr($v & 255);
        }
        return $output;
    }

    /**
     * Convert UCS-4 strin into UCS-4 garray
     *
     * @param  string $input
     * @return array
     */
    protected function _ucs4_string_to_ucs4($input)
    {
        $output = array();
        $inp_len = self::byteLength($input);
        // Input length must be dividable by 4
        if ($inp_len % 4) {
            $this->_error('Input UCS4 string is broken');
            return false;
        }
        // Empty input - return empty output
        if (!$inp_len) return $output;
        for ($i = 0, $out_len = -1; $i < $inp_len; ++$i) {
            // Increment output position every 4 input bytes
            if (!($i % 4)) {
                $out_len++;
                $output[$out_len] = 0;
            }
            $output[$out_len] += ord($input{$i}) << (8 * (3 - ($i % 4) ) );
        }
        return $output;
    }

    /**
     * Gets the length of a string in bytes even if mbstring function
     * overloading is turned on
     *
     * @param string $string the string for which to get the length.
     * @return integer the length of the string in bytes.
     */
    protected static function byteLength($string)
    {
        if (self::$_mb_string_overload) {
            return mb_strlen($string, '8bit');
        }
        return strlen((binary) $string);
    }

    /**
     * Attempts to return a concrete IDNA instance.
     *
     * @param array $params Set of paramaters
     * @return idna_convert
     * @access public
     */
    public function getInstance($params = array())
    {
        return new idna_convert($params);
    }

    /**
     * Attempts to return a concrete IDNA instance for either php4 or php5,
     * only creating a new instance if no IDNA instance with the same
     * parameters currently exists.
     *
     * @param array $params Set of paramaters
     *
     * @return object idna_convert
     * @access public
     */
    public function singleton($params = array())
    {
        static $instances;
        if (!isset($instances)) {
            $instances = array();
        }
        $signature = serialize($params);
        if (!isset($instances[$signature])) {
            $instances[$signature] = idna_convert::getInstance($params);
        }
        return $instances[$signature];
    }

    /**
     * Holds all relevant mapping tables
     * See RFC3454 for details
     *
     * @private array
     * @since 0.5.2
     */
    protected static $NP = array
            ('map_nothing' => array(0xAD, 0x34F, 0x1806, 0x180B, 0x180C, 0x180D, 0x200B, 0x200C
                    ,0x200D, 0x2060, 0xFE00, 0xFE01, 0xFE02, 0xFE03, 0xFE04, 0xFE05, 0xFE06, 0xFE07
                    ,0xFE08, 0xFE09, 0xFE0A, 0xFE0B, 0xFE0C, 0xFE0D, 0xFE0E, 0xFE0F, 0xFEFF
                    )
            ,'general_prohibited' => array(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19
                    ,20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32 ,33, 34, 35, 36, 37, 38, 39, 40, 41, 42
                    ,43, 44, 47, 59, 60, 61, 62, 63, 64, 91, 92, 93, 94, 95, 96, 123, 124, 125, 126, 127, 0x3002
                    )
            ,'prohibit' => array(0xA0, 0x340, 0x341, 0x6DD, 0x70F, 0x1680, 0x180E, 0x2000, 0x2001, 0x2002, 0x2003
                    ,0x2004, 0x2005, 0x2006, 0x2007, 0x2008, 0x2009, 0x200A, 0x200B, 0x200C, 0x200D, 0x200E, 0x200F
                    ,0x2028, 0x2029, 0x202A, 0x202B, 0x202C, 0x202D, 0x202E, 0x202F, 0x205F, 0x206A, 0x206B, 0x206C
                    ,0x206D, 0x206E, 0x206F, 0x3000, 0xFEFF, 0xFFF9, 0xFFFA, 0xFFFB, 0xFFFC, 0xFFFD, 0xFFFE, 0xFFFF
                    ,0x1FFFE, 0x1FFFF, 0x2FFFE, 0x2FFFF, 0x3FFFE, 0x3FFFF, 0x4FFFE, 0x4FFFF, 0x5FFFE, 0x5FFFF, 0x6FFFE
                    ,0x6FFFF, 0x7FFFE, 0x7FFFF, 0x8FFFE, 0x8FFFF, 0x9FFFE, 0x9FFFF, 0xAFFFE, 0xAFFFF, 0xBFFFE, 0xBFFFF
                    ,0xCFFFE, 0xCFFFF, 0xDFFFE, 0xDFFFF, 0xE0001, 0xEFFFE, 0xEFFFF, 0xFFFFE, 0xFFFFF, 0x10FFFE, 0x10FFFF
                    )
            ,'prohibit_ranges' => array(array(0x80, 0x9F), array(0x2060, 0x206F), array(0x1D173, 0x1D17A)
                    ,array(0xE000, 0xF8FF) ,array(0xF0000, 0xFFFFD), array(0x100000, 0x10FFFD)
                    ,array(0xFDD0, 0xFDEF), array(0xD800, 0xDFFF), array(0x2FF0, 0x2FFB), array(0xE0020, 0xE007F)
                    )
            ,'replacemaps' => array(0x41 => array(0x61), 0x42 => array(0x62), 0x43 => array(0x63)
                    ,0x44 => array(0x64), 0x45 => array(0x65), 0x46 => array(0x66), 0x47 => array(0x67)
                    ,0x48 => array(0x68), 0x49 => array(0x69), 0x4A => array(0x6A), 0x4B => array(0x6B)
                    ,0x4C => array(0x6C), 0x4D => array(0x6D), 0x4E => array(0x6E), 0x4F => array(0x6F)
                    ,0x50 => array(0x70), 0x51 => array(0x71), 0x52 => array(0x72), 0x53 => array(0x73)
                    ,0x54 => array(0x74), 0x55 => array(0x75), 0x56 => array(0x76), 0x57 => array(0x77)
                    ,0x58 => array(0x78), 0x59 => array(0x79), 0x5A => array(0x7A), 0xB5 => array(0x3BC)
                    ,0xC0 => array(0xE0), 0xC1 => array(0xE1), 0xC2 => array(0xE2), 0xC3 => array(0xE3)
                    ,0xC4 => array(0xE4), 0xC5 => array(0xE5), 0xC6 => array(0xE6), 0xC7 => array(0xE7)
                    ,0xC8 => array(0xE8), 0xC9 => array(0xE9), 0xCA => array(0xEA), 0xCB => array(0xEB)
                    ,0xCC => array(0xEC), 0xCD => array(0xED), 0xCE => array(0xEE), 0xCF => array(0xEF)
                    ,0xD0 => array(0xF0), 0xD1 => array(0xF1), 0xD2 => array(0xF2), 0xD3 => array(0xF3)
                    ,0xD4 => array(0xF4), 0xD5 => array(0xF5), 0xD6 => array(0xF6), 0xD8 => array(0xF8)
                    ,0xD9 => array(0xF9), 0xDA => array(0xFA), 0xDB => array(0xFB), 0xDC => array(0xFC)
                    ,0xDD => array(0xFD), 0xDE => array(0xFE), 0xDF => array(0x73, 0x73)
                    ,0x100 => array(0x101), 0x102 => array(0x103), 0x104 => array(0x105)
                    ,0x106 => array(0x107), 0x108 => array(0x109), 0x10A => array(0x10B)
                    ,0x10C => array(0x10D), 0x10E => array(0x10F), 0x110 => array(0x111)
                    ,0x112 => array(0x113), 0x114 => array(0x115), 0x116 => array(0x117)
                    ,0x118 => array(0x119), 0x11A => array(0x11B), 0x11C => array(0x11D)
                    ,0x11E => array(0x11F), 0x120 => array(0x121), 0x122 => array(0x123)
                    ,0x124 => array(0x125), 0x126 => array(0x127), 0x128 => array(0x129)
                    ,0x12A => array(0x12B), 0x12C => array(0x12D), 0x12E => array(0x12F)
                    ,0x130 => array(0x69, 0x307), 0x132 => array(0x133), 0x134 => array(0x135)
                    ,0x136 => array(0x137), 0x139 => array(0x13A), 0x13B => array(0x13C)
                    ,0x13D => array(0x13E), 0x13F => array(0x140), 0x141 => array(0x142)
                    ,0x143 => array(0x144), 0x145 => array(0x146), 0x147 => array(0x148)
                    ,0x149 => array(0x2BC, 0x6E), 0x14A => array(0x14B), 0x14C => array(0x14D)
                    ,0x14E => array(0x14F), 0x150 => array(0x151), 0x152 => array(0x153)
                    ,0x154 => array(0x155), 0x156 => array(0x157), 0x158 => array(0x159)
                    ,0x15A => array(0x15B), 0x15C => array(0x15D), 0x15E => array(0x15F)
                    ,0x160 => array(0x161), 0x162 => array(0x163), 0x164 => array(0x165)
                    ,0x166 => array(0x167), 0x168 => array(0x169), 0x16A => array(0x16B)
                    ,0x16C => array(0x16D), 0x16E => array(0x16F), 0x170 => array(0x171)
                    ,0x172 => array(0x173), 0x174 => array(0x175), 0x176 => array(0x177)
                    ,0x178 => array(0xFF), 0x179 => array(0x17A), 0x17B => array(0x17C)
                    ,0x17D => array(0x17E), 0x17F => array(0x73), 0x181 => array(0x253)
                    ,0x182 => array(0x183), 0x184 => array(0x185), 0x186 => array(0x254)
                    ,0x187 => array(0x188), 0x189 => array(0x256), 0x18A => array(0x257)
                    ,0x18B => array(0x18C), 0x18E => array(0x1DD), 0x18F => array(0x259)
                    ,0x190 => array(0x25B), 0x191 => array(0x192), 0x193 => array(0x260)
                    ,0x194 => array(0x263), 0x196 => array(0x269), 0x197 => array(0x268)
                    ,0x198 => array(0x199), 0x19C => array(0x26F), 0x19D => array(0x272)
                    ,0x19F => array(0x275), 0x1A0 => array(0x1A1), 0x1A2 => array(0x1A3)
                    ,0x1A4 => array(0x1A5), 0x1A6 => array(0x280), 0x1A7 => array(0x1A8)
                    ,0x1A9 => array(0x283), 0x1AC => array(0x1AD), 0x1AE => array(0x288)
                    ,0x1AF => array(0x1B0), 0x1B1 => array(0x28A), 0x1B2 => array(0x28B)
                    ,0x1B3 => array(0x1B4), 0x1B5 => array(0x1B6), 0x1B7 => array(0x292)
                    ,0x1B8 => array(0x1B9), 0x1BC => array(0x1BD), 0x1C4 => array(0x1C6)
                    ,0x1C5 => array(0x1C6), 0x1C7 => array(0x1C9), 0x1C8 => array(0x1C9)
                    ,0x1CA => array(0x1CC), 0x1CB => array(0x1CC), 0x1CD => array(0x1CE)
                    ,0x1CF => array(0x1D0), 0x1D1   => array(0x1D2), 0x1D3   => array(0x1D4)
                    ,0x1D5   => array(0x1D6), 0x1D7   => array(0x1D8), 0x1D9   => array(0x1DA)
                    ,0x1DB   => array(0x1DC), 0x1DE   => array(0x1DF), 0x1E0   => array(0x1E1)
                    ,0x1E2   => array(0x1E3), 0x1E4   => array(0x1E5), 0x1E6   => array(0x1E7)
                    ,0x1E8   => array(0x1E9), 0x1EA   => array(0x1EB), 0x1EC   => array(0x1ED)
                    ,0x1EE   => array(0x1EF), 0x1F0   => array(0x6A, 0x30C), 0x1F1   => array(0x1F3)
                    ,0x1F2   => array(0x1F3), 0x1F4   => array(0x1F5), 0x1F6   => array(0x195)
                    ,0x1F7   => array(0x1BF), 0x1F8   => array(0x1F9), 0x1FA   => array(0x1FB)
                    ,0x1FC   => array(0x1FD), 0x1FE   => array(0x1FF), 0x200   => array(0x201)
                    ,0x202   => array(0x203), 0x204   => array(0x205), 0x206   => array(0x207)
                    ,0x208   => array(0x209), 0x20A   => array(0x20B), 0x20C   => array(0x20D)
                    ,0x20E   => array(0x20F), 0x210   => array(0x211), 0x212   => array(0x213)
                    ,0x214   => array(0x215), 0x216   => array(0x217), 0x218   => array(0x219)
                    ,0x21A   => array(0x21B), 0x21C   => array(0x21D), 0x21E   => array(0x21F)
                    ,0x220   => array(0x19E), 0x222   => array(0x223), 0x224   => array(0x225)
                    ,0x226   => array(0x227), 0x228   => array(0x229), 0x22A   => array(0x22B)
                    ,0x22C   => array(0x22D), 0x22E   => array(0x22F), 0x230   => array(0x231)
                    ,0x232   => array(0x233), 0x345   => array(0x3B9), 0x37A   => array(0x20, 0x3B9)
                    ,0x386   => array(0x3AC), 0x388   => array(0x3AD), 0x389   => array(0x3AE)
                    ,0x38A   => array(0x3AF), 0x38C   => array(0x3CC), 0x38E   => array(0x3CD)
                    ,0x38F   => array(0x3CE), 0x390   => array(0x3B9, 0x308, 0x301)
                    ,0x391   => array(0x3B1), 0x392   => array(0x3B2), 0x393   => array(0x3B3)
                    ,0x394   => array(0x3B4), 0x395   => array(0x3B5), 0x396   => array(0x3B6)
                    ,0x397   => array(0x3B7), 0x398   => array(0x3B8), 0x399   => array(0x3B9)
                    ,0x39A   => array(0x3BA), 0x39B   => array(0x3BB), 0x39C   => array(0x3BC)
                    ,0x39D   => array(0x3BD), 0x39E   => array(0x3BE), 0x39F   => array(0x3BF)
                    ,0x3A0   => array(0x3C0), 0x3A1   => array(0x3C1), 0x3A3   => array(0x3C3)
                    ,0x3A4   => array(0x3C4), 0x3A5   => array(0x3C5), 0x3A6   => array(0x3C6)
                    ,0x3A7   => array(0x3C7), 0x3A8   => array(0x3C8), 0x3A9   => array(0x3C9)
                    ,0x3AA   => array(0x3CA), 0x3AB   => array(0x3CB), 0x3B0   => array(0x3C5, 0x308, 0x301)
                    ,0x3C2   => array(0x3C3), 0x3D0   => array(0x3B2), 0x3D1   => array(0x3B8)
                    ,0x3D2   => array(0x3C5), 0x3D3   => array(0x3CD), 0x3D4   => array(0x3CB)
                    ,0x3D5   => array(0x3C6), 0x3D6   => array(0x3C0), 0x3D8   => array(0x3D9)
                    ,0x3DA   => array(0x3DB), 0x3DC   => array(0x3DD), 0x3DE   => array(0x3DF)
                    ,0x3E0   => array(0x3E1), 0x3E2   => array(0x3E3), 0x3E4   => array(0x3E5)
                    ,0x3E6   => array(0x3E7), 0x3E8   => array(0x3E9), 0x3EA   => array(0x3EB)
                    ,0x3EC   => array(0x3ED), 0x3EE   => array(0x3EF), 0x3F0   => array(0x3BA)
                    ,0x3F1   => array(0x3C1), 0x3F2   => array(0x3C3), 0x3F4   => array(0x3B8)
                    ,0x3F5   => array(0x3B5), 0x400   => array(0x450), 0x401   => array(0x451)
                    ,0x402   => array(0x452), 0x403   => array(0x453), 0x404   => array(0x454)
                    ,0x405   => array(0x455), 0x406   => array(0x456), 0x407   => array(0x457)
                    ,0x408   => array(0x458), 0x409   => array(0x459), 0x40A   => array(0x45A)
                    ,0x40B   => array(0x45B), 0x40C   => array(0x45C), 0x40D   => array(0x45D)
                    ,0x40E   => array(0x45E), 0x40F   => array(0x45F), 0x410   => array(0x430)
                    ,0x411   => array(0x431), 0x412   => array(0x432), 0x413   => array(0x433)
                    ,0x414   => array(0x434), 0x415   => array(0x435), 0x416   => array(0x436)
                    ,0x417   => array(0x437), 0x418   => array(0x438), 0x419   => array(0x439)
                    ,0x41A   => array(0x43A), 0x41B   => array(0x43B), 0x41C   => array(0x43C)
                    ,0x41D   => array(0x43D), 0x41E   => array(0x43E), 0x41F   => array(0x43F)
                    ,0x420   => array(0x440), 0x421   => array(0x441), 0x422   => array(0x442)
                    ,0x423   => array(0x443), 0x424   => array(0x444), 0x425   => array(0x445)
                    ,0x426   => array(0x446), 0x427   => array(0x447), 0x428   => array(0x448)
                    ,0x429   => array(0x449), 0x42A   => array(0x44A), 0x42B   => array(0x44B)
                    ,0x42C   => array(0x44C), 0x42D   => array(0x44D), 0x42E   => array(0x44E)
                    ,0x42F   => array(0x44F), 0x460   => array(0x461), 0x462   => array(0x463)
                    ,0x464   => array(0x465), 0x466   => array(0x467), 0x468   => array(0x469)
                    ,0x46A   => array(0x46B), 0x46C   => array(0x46D), 0x46E   => array(0x46F)
                    ,0x470   => array(0x471), 0x472   => array(0x473), 0x474   => array(0x475)
                    ,0x476   => array(0x477), 0x478   => array(0x479), 0x47A   => array(0x47B)
                    ,0x47C   => array(0x47D), 0x47E   => array(0x47F), 0x480   => array(0x481)
                    ,0x48A   => array(0x48B), 0x48C   => array(0x48D), 0x48E   => array(0x48F)
                    ,0x490   => array(0x491), 0x492   => array(0x493), 0x494   => array(0x495)
                    ,0x496   => array(0x497), 0x498   => array(0x499), 0x49A   => array(0x49B)
                    ,0x49C   => array(0x49D), 0x49E   => array(0x49F), 0x4A0   => array(0x4A1)
                    ,0x4A2   => array(0x4A3), 0x4A4   => array(0x4A5), 0x4A6   => array(0x4A7)
                    ,0x4A8   => array(0x4A9), 0x4AA   => array(0x4AB), 0x4AC   => array(0x4AD)
                    ,0x4AE   => array(0x4AF), 0x4B0   => array(0x4B1), 0x4B2   => array(0x4B3)
                    ,0x4B4   => array(0x4B5), 0x4B6   => array(0x4B7), 0x4B8   => array(0x4B9)
                    ,0x4BA   => array(0x4BB), 0x4BC   => array(0x4BD), 0x4BE   => array(0x4BF)
                    ,0x4C1   => array(0x4C2), 0x4C3   => array(0x4C4), 0x4C5   => array(0x4C6)
                    ,0x4C7   => array(0x4C8), 0x4C9   => array(0x4CA), 0x4CB   => array(0x4CC)
                    ,0x4CD   => array(0x4CE), 0x4D0   => array(0x4D1), 0x4D2   => array(0x4D3)
                    ,0x4D4   => array(0x4D5), 0x4D6   => array(0x4D7), 0x4D8   => array(0x4D9)
                    ,0x4DA   => array(0x4DB), 0x4DC   => array(0x4DD), 0x4DE   => array(0x4DF)
                    ,0x4E0   => array(0x4E1), 0x4E2   => array(0x4E3), 0x4E4   => array(0x4E5)
                    ,0x4E6   => array(0x4E7), 0x4E8   => array(0x4E9), 0x4EA   => array(0x4EB)
                    ,0x4EC   => array(0x4ED), 0x4EE   => array(0x4EF), 0x4F0   => array(0x4F1)
                    ,0x4F2   => array(0x4F3), 0x4F4   => array(0x4F5), 0x4F8   => array(0x4F9)
                    ,0x500   => array(0x501), 0x502   => array(0x503), 0x504   => array(0x505)
                    ,0x506   => array(0x507), 0x508   => array(0x509), 0x50A   => array(0x50B)
                    ,0x50C   => array(0x50D), 0x50E   => array(0x50F), 0x531   => array(0x561)
                    ,0x532   => array(0x562), 0x533   => array(0x563), 0x534   => array(0x564)
                    ,0x535   => array(0x565), 0x536   => array(0x566), 0x537   => array(0x567)
                    ,0x538   => array(0x568), 0x539   => array(0x569), 0x53A   => array(0x56A)
                    ,0x53B   => array(0x56B), 0x53C   => array(0x56C), 0x53D   => array(0x56D)
                    ,0x53E   => array(0x56E), 0x53F   => array(0x56F), 0x540   => array(0x570)
                    ,0x541   => array(0x571), 0x542   => array(0x572), 0x543   => array(0x573)
                    ,0x544   => array(0x574), 0x545   => array(0x575), 0x546   => array(0x576)
                    ,0x547   => array(0x577), 0x548   => array(0x578), 0x549   => array(0x579)
                    ,0x54A   => array(0x57A), 0x54B   => array(0x57B), 0x54C   => array(0x57C)
                    ,0x54D   => array(0x57D), 0x54E   => array(0x57E), 0x54F   => array(0x57F)
                    ,0x550   => array(0x580), 0x551   => array(0x581), 0x552   => array(0x582)
                    ,0x553   => array(0x583), 0x554   => array(0x584), 0x555   => array(0x585)
                    ,0x556 => array(0x586), 0x587 => array(0x565, 0x582), 0xE33 => array(0xE4D, 0xE32)
                    ,0x1E00  => array(0x1E01), 0x1E02  => array(0x1E03), 0x1E04  => array(0x1E05)
                    ,0x1E06  => array(0x1E07), 0x1E08  => array(0x1E09), 0x1E0A  => array(0x1E0B)
                    ,0x1E0C  => array(0x1E0D), 0x1E0E  => array(0x1E0F), 0x1E10  => array(0x1E11)
                    ,0x1E12  => array(0x1E13), 0x1E14  => array(0x1E15), 0x1E16  => array(0x1E17)
                    ,0x1E18  => array(0x1E19), 0x1E1A  => array(0x1E1B), 0x1E1C  => array(0x1E1D)
                    ,0x1E1E  => array(0x1E1F), 0x1E20  => array(0x1E21), 0x1E22  => array(0x1E23)
                    ,0x1E24  => array(0x1E25), 0x1E26  => array(0x1E27), 0x1E28  => array(0x1E29)
                    ,0x1E2A  => array(0x1E2B), 0x1E2C  => array(0x1E2D), 0x1E2E  => array(0x1E2F)
                    ,0x1E30  => array(0x1E31), 0x1E32  => array(0x1E33), 0x1E34  => array(0x1E35)
                    ,0x1E36  => array(0x1E37), 0x1E38  => array(0x1E39), 0x1E3A  => array(0x1E3B)
                    ,0x1E3C  => array(0x1E3D), 0x1E3E  => array(0x1E3F), 0x1E40  => array(0x1E41)
                    ,0x1E42  => array(0x1E43), 0x1E44  => array(0x1E45), 0x1E46  => array(0x1E47)
                    ,0x1E48  => array(0x1E49), 0x1E4A  => array(0x1E4B), 0x1E4C  => array(0x1E4D)
                    ,0x1E4E  => array(0x1E4F), 0x1E50  => array(0x1E51), 0x1E52  => array(0x1E53)
                    ,0x1E54  => array(0x1E55), 0x1E56  => array(0x1E57), 0x1E58  => array(0x1E59)
                    ,0x1E5A  => array(0x1E5B), 0x1E5C  => array(0x1E5D), 0x1E5E  => array(0x1E5F)
                    ,0x1E60  => array(0x1E61), 0x1E62  => array(0x1E63), 0x1E64  => array(0x1E65)
                    ,0x1E66  => array(0x1E67), 0x1E68  => array(0x1E69), 0x1E6A  => array(0x1E6B)
                    ,0x1E6C  => array(0x1E6D), 0x1E6E  => array(0x1E6F), 0x1E70  => array(0x1E71)
                    ,0x1E72  => array(0x1E73), 0x1E74  => array(0x1E75), 0x1E76  => array(0x1E77)
                    ,0x1E78  => array(0x1E79), 0x1E7A  => array(0x1E7B), 0x1E7C  => array(0x1E7D)
                    ,0x1E7E  => array(0x1E7F), 0x1E80  => array(0x1E81), 0x1E82  => array(0x1E83)
                    ,0x1E84  => array(0x1E85), 0x1E86  => array(0x1E87), 0x1E88  => array(0x1E89)
                    ,0x1E8A  => array(0x1E8B), 0x1E8C  => array(0x1E8D), 0x1E8E  => array(0x1E8F)
                    ,0x1E90  => array(0x1E91), 0x1E92  => array(0x1E93), 0x1E94  => array(0x1E95)
                    ,0x1E96  => array(0x68, 0x331), 0x1E97  => array(0x74, 0x308), 0x1E98  => array(0x77, 0x30A)
                    ,0x1E99  => array(0x79, 0x30A), 0x1E9A  => array(0x61, 0x2BE), 0x1E9B  => array(0x1E61)
                    ,0x1EA0  => array(0x1EA1), 0x1EA2  => array(0x1EA3), 0x1EA4  => array(0x1EA5)
                    ,0x1EA6  => array(0x1EA7), 0x1EA8  => array(0x1EA9), 0x1EAA  => array(0x1EAB)
                    ,0x1EAC  => array(0x1EAD), 0x1EAE  => array(0x1EAF), 0x1EB0  => array(0x1EB1)
                    ,0x1EB2  => array(0x1EB3), 0x1EB4  => array(0x1EB5), 0x1EB6  => array(0x1EB7)
                    ,0x1EB8  => array(0x1EB9), 0x1EBA  => array(0x1EBB), 0x1EBC  => array(0x1EBD)
                    ,0x1EBE  => array(0x1EBF), 0x1EC0  => array(0x1EC1), 0x1EC2  => array(0x1EC3)
                    ,0x1EC4  => array(0x1EC5), 0x1EC6  => array(0x1EC7), 0x1EC8  => array(0x1EC9)
                    ,0x1ECA  => array(0x1ECB), 0x1ECC  => array(0x1ECD), 0x1ECE  => array(0x1ECF)
                    ,0x1ED0  => array(0x1ED1), 0x1ED2  => array(0x1ED3), 0x1ED4  => array(0x1ED5)
                    ,0x1ED6  => array(0x1ED7), 0x1ED8  => array(0x1ED9), 0x1EDA  => array(0x1EDB)
                    ,0x1EDC  => array(0x1EDD), 0x1EDE  => array(0x1EDF), 0x1EE0  => array(0x1EE1)
                    ,0x1EE2  => array(0x1EE3), 0x1EE4  => array(0x1EE5), 0x1EE6  => array(0x1EE7)
                    ,0x1EE8  => array(0x1EE9), 0x1EEA  => array(0x1EEB), 0x1EEC  => array(0x1EED)
                    ,0x1EEE  => array(0x1EEF), 0x1EF0  => array(0x1EF1), 0x1EF2  => array(0x1EF3)
                    ,0x1EF4  => array(0x1EF5), 0x1EF6  => array(0x1EF7), 0x1EF8  => array(0x1EF9)
                    ,0x1F08  => array(0x1F00), 0x1F09  => array(0x1F01), 0x1F0A  => array(0x1F02)
                    ,0x1F0B  => array(0x1F03), 0x1F0C  => array(0x1F04), 0x1F0D  => array(0x1F05)
                    ,0x1F0E  => array(0x1F06), 0x1F0F  => array(0x1F07), 0x1F18  => array(0x1F10)
                    ,0x1F19  => array(0x1F11), 0x1F1A  => array(0x1F12), 0x1F1B  => array(0x1F13)
                    ,0x1F1C  => array(0x1F14), 0x1F1D  => array(0x1F15), 0x1F28  => array(0x1F20)
                    ,0x1F29  => array(0x1F21), 0x1F2A  => array(0x1F22), 0x1F2B  => array(0x1F23)
                    ,0x1F2C  => array(0x1F24), 0x1F2D  => array(0x1F25), 0x1F2E  => array(0x1F26)
                    ,0x1F2F  => array(0x1F27), 0x1F38  => array(0x1F30), 0x1F39  => array(0x1F31)
                    ,0x1F3A  => array(0x1F32), 0x1F3B  => array(0x1F33), 0x1F3C  => array(0x1F34)
                    ,0x1F3D  => array(0x1F35), 0x1F3E  => array(0x1F36), 0x1F3F  => array(0x1F37)
                    ,0x1F48  => array(0x1F40), 0x1F49  => array(0x1F41), 0x1F4A  => array(0x1F42)
                    ,0x1F4B  => array(0x1F43), 0x1F4C  => array(0x1F44), 0x1F4D  => array(0x1F45)
                    ,0x1F50  => array(0x3C5, 0x313), 0x1F52  => array(0x3C5, 0x313, 0x300)
                    ,0x1F54  => array(0x3C5, 0x313, 0x301), 0x1F56  => array(0x3C5, 0x313, 0x342)
                    ,0x1F59  => array(0x1F51), 0x1F5B  => array(0x1F53), 0x1F5D  => array(0x1F55)
                    ,0x1F5F  => array(0x1F57), 0x1F68  => array(0x1F60), 0x1F69  => array(0x1F61)
                    ,0x1F6A  => array(0x1F62), 0x1F6B  => array(0x1F63), 0x1F6C  => array(0x1F64)
                    ,0x1F6D  => array(0x1F65), 0x1F6E  => array(0x1F66), 0x1F6F  => array(0x1F67)
                    ,0x1F80  => array(0x1F00, 0x3B9), 0x1F81  => array(0x1F01, 0x3B9)
                    ,0x1F82  => array(0x1F02, 0x3B9), 0x1F83  => array(0x1F03, 0x3B9)
                    ,0x1F84  => array(0x1F04, 0x3B9), 0x1F85  => array(0x1F05, 0x3B9)
                    ,0x1F86  => array(0x1F06, 0x3B9), 0x1F87  => array(0x1F07, 0x3B9)
                    ,0x1F88  => array(0x1F00, 0x3B9), 0x1F89  => array(0x1F01, 0x3B9)
                    ,0x1F8A  => array(0x1F02, 0x3B9), 0x1F8B  => array(0x1F03, 0x3B9)
                    ,0x1F8C  => array(0x1F04, 0x3B9), 0x1F8D  => array(0x1F05, 0x3B9)
                    ,0x1F8E  => array(0x1F06, 0x3B9), 0x1F8F  => array(0x1F07, 0x3B9)
                    ,0x1F90  => array(0x1F20, 0x3B9), 0x1F91  => array(0x1F21, 0x3B9)
                    ,0x1F92  => array(0x1F22, 0x3B9), 0x1F93  => array(0x1F23, 0x3B9)
                    ,0x1F94  => array(0x1F24, 0x3B9), 0x1F95  => array(0x1F25, 0x3B9)
                    ,0x1F96  => array(0x1F26, 0x3B9), 0x1F97  => array(0x1F27, 0x3B9)
                    ,0x1F98  => array(0x1F20, 0x3B9), 0x1F99  => array(0x1F21, 0x3B9)
                    ,0x1F9A  => array(0x1F22, 0x3B9), 0x1F9B  => array(0x1F23, 0x3B9)
                    ,0x1F9C  => array(0x1F24, 0x3B9), 0x1F9D  => array(0x1F25, 0x3B9)
                    ,0x1F9E  => array(0x1F26, 0x3B9), 0x1F9F  => array(0x1F27, 0x3B9)
                    ,0x1FA0  => array(0x1F60, 0x3B9), 0x1FA1  => array(0x1F61, 0x3B9)
                    ,0x1FA2  => array(0x1F62, 0x3B9), 0x1FA3  => array(0x1F63, 0x3B9)
                    ,0x1FA4  => array(0x1F64, 0x3B9), 0x1FA5  => array(0x1F65, 0x3B9)
                    ,0x1FA6  => array(0x1F66, 0x3B9), 0x1FA7  => array(0x1F67, 0x3B9)
                    ,0x1FA8  => array(0x1F60, 0x3B9), 0x1FA9  => array(0x1F61, 0x3B9)
                    ,0x1FAA  => array(0x1F62, 0x3B9), 0x1FAB  => array(0x1F63, 0x3B9)
                    ,0x1FAC  => array(0x1F64, 0x3B9), 0x1FAD  => array(0x1F65, 0x3B9)
                    ,0x1FAE  => array(0x1F66, 0x3B9), 0x1FAF  => array(0x1F67, 0x3B9)
                    ,0x1FB2  => array(0x1F70, 0x3B9), 0x1FB3  => array(0x3B1, 0x3B9)
                    ,0x1FB4  => array(0x3AC, 0x3B9), 0x1FB6  => array(0x3B1, 0x342)
                    ,0x1FB7  => array(0x3B1, 0x342, 0x3B9), 0x1FB8  => array(0x1FB0)
                    ,0x1FB9  => array(0x1FB1), 0x1FBA  => array(0x1F70), 0x1FBB  => array(0x1F71)
                    ,0x1FBC  => array(0x3B1, 0x3B9), 0x1FBE  => array(0x3B9)
                    ,0x1FC2  => array(0x1F74, 0x3B9), 0x1FC3  => array(0x3B7, 0x3B9)
                    ,0x1FC4  => array(0x3AE, 0x3B9), 0x1FC6  => array(0x3B7, 0x342)
                    ,0x1FC7  => array(0x3B7, 0x342, 0x3B9), 0x1FC8  => array(0x1F72)
                    ,0x1FC9  => array(0x1F73), 0x1FCA  => array(0x1F74), 0x1FCB  => array(0x1F75)
                    ,0x1FCC  => array(0x3B7, 0x3B9), 0x1FD2  => array(0x3B9, 0x308, 0x300)
                    ,0x1FD3  => array(0x3B9, 0x308, 0x301), 0x1FD6  => array(0x3B9, 0x342)
                    ,0x1FD7  => array(0x3B9, 0x308, 0x342), 0x1FD8  => array(0x1FD0)
                    ,0x1FD9  => array(0x1FD1), 0x1FDA  => array(0x1F76)
                    ,0x1FDB  => array(0x1F77), 0x1FE2  => array(0x3C5, 0x308, 0x300)
                    ,0x1FE3  => array(0x3C5, 0x308, 0x301), 0x1FE4  => array(0x3C1, 0x313)
                    ,0x1FE6  => array(0x3C5, 0x342), 0x1FE7  => array(0x3C5, 0x308, 0x342)
                    ,0x1FE8  => array(0x1FE0), 0x1FE9  => array(0x1FE1)
                    ,0x1FEA  => array(0x1F7A), 0x1FEB  => array(0x1F7B)
                    ,0x1FEC  => array(0x1FE5), 0x1FF2  => array(0x1F7C, 0x3B9)
                    ,0x1FF3  => array(0x3C9, 0x3B9), 0x1FF4  => array(0x3CE, 0x3B9)
                    ,0x1FF6  => array(0x3C9, 0x342), 0x1FF7  => array(0x3C9, 0x342, 0x3B9)
                    ,0x1FF8  => array(0x1F78), 0x1FF9  => array(0x1F79), 0x1FFA  => array(0x1F7C)
                    ,0x1FFB  => array(0x1F7D), 0x1FFC  => array(0x3C9, 0x3B9)
                    ,0x20A8  => array(0x72, 0x73), 0x2102  => array(0x63), 0x2103  => array(0xB0, 0x63)
                    ,0x2107  => array(0x25B), 0x2109  => array(0xB0, 0x66), 0x210B  => array(0x68)
                    ,0x210C  => array(0x68), 0x210D  => array(0x68), 0x2110  => array(0x69)
                    ,0x2111  => array(0x69), 0x2112  => array(0x6C), 0x2115  => array(0x6E)
                    ,0x2116  => array(0x6E, 0x6F), 0x2119  => array(0x70), 0x211A  => array(0x71)
                    ,0x211B  => array(0x72), 0x211C  => array(0x72), 0x211D  => array(0x72)
                    ,0x2120  => array(0x73, 0x6D), 0x2121  => array(0x74, 0x65, 0x6C)
                    ,0x2122  => array(0x74, 0x6D), 0x2124  => array(0x7A), 0x2126  => array(0x3C9)
                    ,0x2128  => array(0x7A), 0x212A  => array(0x6B), 0x212B  => array(0xE5)
                    ,0x212C  => array(0x62), 0x212D  => array(0x63), 0x2130  => array(0x65)
                    ,0x2131  => array(0x66), 0x2133  => array(0x6D), 0x213E  => array(0x3B3)
                    ,0x213F  => array(0x3C0), 0x2145  => array(0x64) ,0x2160  => array(0x2170)
                    ,0x2161  => array(0x2171), 0x2162  => array(0x2172), 0x2163  => array(0x2173)
                    ,0x2164  => array(0x2174), 0x2165  => array(0x2175), 0x2166  => array(0x2176)
                    ,0x2167  => array(0x2177), 0x2168  => array(0x2178), 0x2169  => array(0x2179)
                    ,0x216A  => array(0x217A), 0x216B  => array(0x217B), 0x216C  => array(0x217C)
                    ,0x216D  => array(0x217D), 0x216E  => array(0x217E), 0x216F  => array(0x217F)
                    ,0x24B6  => array(0x24D0), 0x24B7  => array(0x24D1), 0x24B8  => array(0x24D2)
                    ,0x24B9  => array(0x24D3), 0x24BA  => array(0x24D4), 0x24BB  => array(0x24D5)
                    ,0x24BC  => array(0x24D6), 0x24BD  => array(0x24D7), 0x24BE  => array(0x24D8)
                    ,0x24BF  => array(0x24D9), 0x24C0  => array(0x24DA), 0x24C1  => array(0x24DB)
                    ,0x24C2  => array(0x24DC), 0x24C3  => array(0x24DD), 0x24C4  => array(0x24DE)
                    ,0x24C5  => array(0x24DF), 0x24C6  => array(0x24E0), 0x24C7  => array(0x24E1)
                    ,0x24C8  => array(0x24E2), 0x24C9  => array(0x24E3), 0x24CA  => array(0x24E4)
                    ,0x24CB  => array(0x24E5), 0x24CC  => array(0x24E6), 0x24CD  => array(0x24E7)
                    ,0x24CE  => array(0x24E8), 0x24CF  => array(0x24E9), 0x3371  => array(0x68, 0x70, 0x61)
                    ,0x3373  => array(0x61, 0x75), 0x3375  => array(0x6F, 0x76)
                    ,0x3380  => array(0x70, 0x61), 0x3381  => array(0x6E, 0x61)
                    ,0x3382  => array(0x3BC, 0x61), 0x3383  => array(0x6D, 0x61)
                    ,0x3384  => array(0x6B, 0x61), 0x3385  => array(0x6B, 0x62)
                    ,0x3386  => array(0x6D, 0x62), 0x3387  => array(0x67, 0x62)
                    ,0x338A  => array(0x70, 0x66), 0x338B  => array(0x6E, 0x66)
                    ,0x338C  => array(0x3BC, 0x66), 0x3390  => array(0x68, 0x7A)
                    ,0x3391  => array(0x6B, 0x68, 0x7A), 0x3392  => array(0x6D, 0x68, 0x7A)
                    ,0x3393  => array(0x67, 0x68, 0x7A), 0x3394  => array(0x74, 0x68, 0x7A)
                    ,0x33A9  => array(0x70, 0x61), 0x33AA  => array(0x6B, 0x70, 0x61)
                    ,0x33AB  => array(0x6D, 0x70, 0x61), 0x33AC  => array(0x67, 0x70, 0x61)
                    ,0x33B4  => array(0x70, 0x76), 0x33B5  => array(0x6E, 0x76)
                    ,0x33B6  => array(0x3BC, 0x76), 0x33B7  => array(0x6D, 0x76)
                    ,0x33B8  => array(0x6B, 0x76), 0x33B9  => array(0x6D, 0x76)
                    ,0x33BA  => array(0x70, 0x77), 0x33BB  => array(0x6E, 0x77)
                    ,0x33BC  => array(0x3BC, 0x77), 0x33BD  => array(0x6D, 0x77)
                    ,0x33BE  => array(0x6B, 0x77), 0x33BF  => array(0x6D, 0x77)
                    ,0x33C0  => array(0x6B, 0x3C9), 0x33C1  => array(0x6D, 0x3C9) /*
                    ,0x33C2  => array(0x61, 0x2E, 0x6D, 0x2E) */
                    ,0x33C3  => array(0x62, 0x71), 0x33C6  => array(0x63, 0x2215, 0x6B, 0x67)
                    ,0x33C7  => array(0x63, 0x6F, 0x2E), 0x33C8  => array(0x64, 0x62)
                    ,0x33C9  => array(0x67, 0x79), 0x33CB  => array(0x68, 0x70)
                    ,0x33CD  => array(0x6B, 0x6B), 0x33CE  => array(0x6B, 0x6D)
                    ,0x33D7  => array(0x70, 0x68), 0x33D9  => array(0x70, 0x70, 0x6D)
                    ,0x33DA  => array(0x70, 0x72), 0x33DC  => array(0x73, 0x76)
                    ,0x33DD  => array(0x77, 0x62), 0xFB00  => array(0x66, 0x66)
                    ,0xFB01  => array(0x66, 0x69), 0xFB02  => array(0x66, 0x6C)
                    ,0xFB03  => array(0x66, 0x66, 0x69), 0xFB04  => array(0x66, 0x66, 0x6C)
                    ,0xFB05  => array(0x73, 0x74), 0xFB06  => array(0x73, 0x74)
                    ,0xFB13  => array(0x574, 0x576), 0xFB14  => array(0x574, 0x565)
                    ,0xFB15  => array(0x574, 0x56B), 0xFB16  => array(0x57E, 0x576)
                    ,0xFB17  => array(0x574, 0x56D), 0xFF21  => array(0xFF41)
                    ,0xFF22  => array(0xFF42), 0xFF23  => array(0xFF43), 0xFF24  => array(0xFF44)
                    ,0xFF25  => array(0xFF45), 0xFF26  => array(0xFF46), 0xFF27  => array(0xFF47)
                    ,0xFF28  => array(0xFF48), 0xFF29  => array(0xFF49), 0xFF2A  => array(0xFF4A)
                    ,0xFF2B  => array(0xFF4B), 0xFF2C  => array(0xFF4C), 0xFF2D  => array(0xFF4D)
                    ,0xFF2E  => array(0xFF4E), 0xFF2F  => array(0xFF4F), 0xFF30  => array(0xFF50)
                    ,0xFF31  => array(0xFF51), 0xFF32  => array(0xFF52), 0xFF33  => array(0xFF53)
                    ,0xFF34  => array(0xFF54), 0xFF35  => array(0xFF55), 0xFF36  => array(0xFF56)
                    ,0xFF37  => array(0xFF57), 0xFF38  => array(0xFF58), 0xFF39  => array(0xFF59)
                    ,0xFF3A  => array(0xFF5A), 0x10400 => array(0x10428), 0x10401 => array(0x10429)
                    ,0x10402 => array(0x1042A), 0x10403 => array(0x1042B), 0x10404 => array(0x1042C)
                    ,0x10405 => array(0x1042D), 0x10406 => array(0x1042E), 0x10407 => array(0x1042F)
                    ,0x10408 => array(0x10430), 0x10409 => array(0x10431), 0x1040A => array(0x10432)
                    ,0x1040B => array(0x10433), 0x1040C => array(0x10434), 0x1040D => array(0x10435)
                    ,0x1040E => array(0x10436), 0x1040F => array(0x10437), 0x10410 => array(0x10438)
                    ,0x10411 => array(0x10439), 0x10412 => array(0x1043A), 0x10413 => array(0x1043B)
                    ,0x10414 => array(0x1043C), 0x10415 => array(0x1043D), 0x10416 => array(0x1043E)
                    ,0x10417 => array(0x1043F), 0x10418 => array(0x10440), 0x10419 => array(0x10441)
                    ,0x1041A => array(0x10442), 0x1041B => array(0x10443), 0x1041C => array(0x10444)
                    ,0x1041D => array(0x10445), 0x1041E => array(0x10446), 0x1041F => array(0x10447)
                    ,0x10420 => array(0x10448), 0x10421 => array(0x10449), 0x10422 => array(0x1044A)
                    ,0x10423 => array(0x1044B), 0x10424 => array(0x1044C), 0x10425 => array(0x1044D)
                    ,0x1D400 => array(0x61), 0x1D401 => array(0x62), 0x1D402 => array(0x63)
                    ,0x1D403 => array(0x64), 0x1D404 => array(0x65), 0x1D405 => array(0x66)
                    ,0x1D406 => array(0x67), 0x1D407 => array(0x68), 0x1D408 => array(0x69)
                    ,0x1D409 => array(0x6A), 0x1D40A => array(0x6B), 0x1D40B => array(0x6C)
                    ,0x1D40C => array(0x6D), 0x1D40D => array(0x6E), 0x1D40E => array(0x6F)
                    ,0x1D40F => array(0x70), 0x1D410 => array(0x71), 0x1D411 => array(0x72)
                    ,0x1D412 => array(0x73), 0x1D413 => array(0x74), 0x1D414 => array(0x75)
                    ,0x1D415 => array(0x76), 0x1D416 => array(0x77), 0x1D417 => array(0x78)
                    ,0x1D418 => array(0x79), 0x1D419 => array(0x7A), 0x1D434 => array(0x61)
                    ,0x1D435 => array(0x62), 0x1D436 => array(0x63), 0x1D437 => array(0x64)
                    ,0x1D438 => array(0x65), 0x1D439 => array(0x66), 0x1D43A => array(0x67)
                    ,0x1D43B => array(0x68), 0x1D43C => array(0x69), 0x1D43D => array(0x6A)
                    ,0x1D43E => array(0x6B), 0x1D43F => array(0x6C), 0x1D440 => array(0x6D)
                    ,0x1D441 => array(0x6E), 0x1D442 => array(0x6F), 0x1D443 => array(0x70)
                    ,0x1D444 => array(0x71), 0x1D445 => array(0x72), 0x1D446 => array(0x73)
                    ,0x1D447 => array(0x74), 0x1D448 => array(0x75), 0x1D449 => array(0x76)
                    ,0x1D44A => array(0x77), 0x1D44B => array(0x78), 0x1D44C => array(0x79)
                    ,0x1D44D => array(0x7A), 0x1D468 => array(0x61), 0x1D469 => array(0x62)
                    ,0x1D46A => array(0x63), 0x1D46B => array(0x64), 0x1D46C => array(0x65)
                    ,0x1D46D => array(0x66), 0x1D46E => array(0x67), 0x1D46F => array(0x68)
                    ,0x1D470 => array(0x69), 0x1D471 => array(0x6A), 0x1D472 => array(0x6B)
                    ,0x1D473 => array(0x6C), 0x1D474 => array(0x6D), 0x1D475 => array(0x6E)
                    ,0x1D476 => array(0x6F), 0x1D477 => array(0x70), 0x1D478 => array(0x71)
                    ,0x1D479 => array(0x72), 0x1D47A => array(0x73), 0x1D47B => array(0x74)
                    ,0x1D47C => array(0x75), 0x1D47D => array(0x76), 0x1D47E => array(0x77)
                    ,0x1D47F => array(0x78), 0x1D480 => array(0x79), 0x1D481 => array(0x7A)
                    ,0x1D49C => array(0x61), 0x1D49E => array(0x63), 0x1D49F => array(0x64)
                    ,0x1D4A2 => array(0x67), 0x1D4A5 => array(0x6A), 0x1D4A6 => array(0x6B)
                    ,0x1D4A9 => array(0x6E), 0x1D4AA => array(0x6F), 0x1D4AB => array(0x70)
                    ,0x1D4AC => array(0x71), 0x1D4AE => array(0x73), 0x1D4AF => array(0x74)
                    ,0x1D4B0 => array(0x75), 0x1D4B1 => array(0x76), 0x1D4B2 => array(0x77)
                    ,0x1D4B3 => array(0x78), 0x1D4B4 => array(0x79), 0x1D4B5 => array(0x7A)
                    ,0x1D4D0 => array(0x61), 0x1D4D1 => array(0x62), 0x1D4D2 => array(0x63)
                    ,0x1D4D3 => array(0x64), 0x1D4D4 => array(0x65), 0x1D4D5 => array(0x66)
                    ,0x1D4D6 => array(0x67), 0x1D4D7 => array(0x68), 0x1D4D8 => array(0x69)
                    ,0x1D4D9 => array(0x6A), 0x1D4DA => array(0x6B), 0x1D4DB => array(0x6C)
                    ,0x1D4DC => array(0x6D), 0x1D4DD => array(0x6E), 0x1D4DE => array(0x6F)
                    ,0x1D4DF => array(0x70), 0x1D4E0 => array(0x71), 0x1D4E1 => array(0x72)
                    ,0x1D4E2 => array(0x73), 0x1D4E3 => array(0x74), 0x1D4E4 => array(0x75)
                    ,0x1D4E5 => array(0x76), 0x1D4E6 => array(0x77), 0x1D4E7 => array(0x78)
                    ,0x1D4E8 => array(0x79), 0x1D4E9 => array(0x7A), 0x1D504 => array(0x61)
                    ,0x1D505 => array(0x62), 0x1D507 => array(0x64), 0x1D508 => array(0x65)
                    ,0x1D509 => array(0x66), 0x1D50A => array(0x67), 0x1D50D => array(0x6A)
                    ,0x1D50E => array(0x6B), 0x1D50F => array(0x6C), 0x1D510 => array(0x6D)
                    ,0x1D511 => array(0x6E), 0x1D512 => array(0x6F), 0x1D513 => array(0x70)
                    ,0x1D514 => array(0x71), 0x1D516 => array(0x73), 0x1D517 => array(0x74)
                    ,0x1D518 => array(0x75), 0x1D519 => array(0x76), 0x1D51A => array(0x77)
                    ,0x1D51B => array(0x78), 0x1D51C => array(0x79), 0x1D538 => array(0x61)
                    ,0x1D539 => array(0x62), 0x1D53B => array(0x64), 0x1D53C => array(0x65)
                    ,0x1D53D => array(0x66), 0x1D53E => array(0x67), 0x1D540 => array(0x69)
                    ,0x1D541 => array(0x6A), 0x1D542 => array(0x6B), 0x1D543 => array(0x6C)
                    ,0x1D544 => array(0x6D), 0x1D546 => array(0x6F), 0x1D54A => array(0x73)
                    ,0x1D54B => array(0x74), 0x1D54C => array(0x75), 0x1D54D => array(0x76)
                    ,0x1D54E => array(0x77), 0x1D54F => array(0x78), 0x1D550 => array(0x79)
                    ,0x1D56C => array(0x61), 0x1D56D => array(0x62), 0x1D56E => array(0x63)
                    ,0x1D56F => array(0x64), 0x1D570 => array(0x65), 0x1D571 => array(0x66)
                    ,0x1D572 => array(0x67), 0x1D573 => array(0x68), 0x1D574 => array(0x69)
                    ,0x1D575 => array(0x6A), 0x1D576 => array(0x6B), 0x1D577 => array(0x6C)
                    ,0x1D578 => array(0x6D), 0x1D579 => array(0x6E), 0x1D57A => array(0x6F)
                    ,0x1D57B => array(0x70), 0x1D57C => array(0x71), 0x1D57D => array(0x72)
                    ,0x1D57E => array(0x73), 0x1D57F => array(0x74), 0x1D580 => array(0x75)
                    ,0x1D581 => array(0x76), 0x1D582 => array(0x77), 0x1D583 => array(0x78)
                    ,0x1D584 => array(0x79), 0x1D585 => array(0x7A), 0x1D5A0 => array(0x61)
                    ,0x1D5A1 => array(0x62), 0x1D5A2 => array(0x63), 0x1D5A3 => array(0x64)
                    ,0x1D5A4 => array(0x65), 0x1D5A5 => array(0x66), 0x1D5A6 => array(0x67)
                    ,0x1D5A7 => array(0x68), 0x1D5A8 => array(0x69), 0x1D5A9 => array(0x6A)
                    ,0x1D5AA => array(0x6B), 0x1D5AB => array(0x6C), 0x1D5AC => array(0x6D)
                    ,0x1D5AD => array(0x6E), 0x1D5AE => array(0x6F), 0x1D5AF => array(0x70)
                    ,0x1D5B0 => array(0x71), 0x1D5B1 => array(0x72), 0x1D5B2 => array(0x73)
                    ,0x1D5B3 => array(0x74), 0x1D5B4 => array(0x75), 0x1D5B5 => array(0x76)
                    ,0x1D5B6 => array(0x77), 0x1D5B7 => array(0x78), 0x1D5B8 => array(0x79)
                    ,0x1D5B9 => array(0x7A), 0x1D5D4 => array(0x61), 0x1D5D5 => array(0x62)
                    ,0x1D5D6 => array(0x63), 0x1D5D7 => array(0x64), 0x1D5D8 => array(0x65)
                    ,0x1D5D9 => array(0x66), 0x1D5DA => array(0x67), 0x1D5DB => array(0x68)
                    ,0x1D5DC => array(0x69), 0x1D5DD => array(0x6A), 0x1D5DE => array(0x6B)
                    ,0x1D5DF => array(0x6C), 0x1D5E0 => array(0x6D), 0x1D5E1 => array(0x6E)
                    ,0x1D5E2 => array(0x6F), 0x1D5E3 => array(0x70), 0x1D5E4 => array(0x71)
                    ,0x1D5E5 => array(0x72), 0x1D5E6 => array(0x73), 0x1D5E7 => array(0x74)
                    ,0x1D5E8 => array(0x75), 0x1D5E9 => array(0x76), 0x1D5EA => array(0x77)
                    ,0x1D5EB => array(0x78), 0x1D5EC => array(0x79), 0x1D5ED => array(0x7A)
                    ,0x1D608 => array(0x61), 0x1D609 => array(0x62) ,0x1D60A => array(0x63)
                    ,0x1D60B => array(0x64), 0x1D60C => array(0x65), 0x1D60D => array(0x66)
                    ,0x1D60E => array(0x67), 0x1D60F => array(0x68), 0x1D610 => array(0x69)
                    ,0x1D611 => array(0x6A), 0x1D612 => array(0x6B), 0x1D613 => array(0x6C)
                    ,0x1D614 => array(0x6D), 0x1D615 => array(0x6E), 0x1D616 => array(0x6F)
                    ,0x1D617 => array(0x70), 0x1D618 => array(0x71), 0x1D619 => array(0x72)
                    ,0x1D61A => array(0x73), 0x1D61B => array(0x74), 0x1D61C => array(0x75)
                    ,0x1D61D => array(0x76), 0x1D61E => array(0x77), 0x1D61F => array(0x78)
                    ,0x1D620 => array(0x79), 0x1D621 => array(0x7A), 0x1D63C => array(0x61)
                    ,0x1D63D => array(0x62), 0x1D63E => array(0x63), 0x1D63F => array(0x64)
                    ,0x1D640 => array(0x65), 0x1D641 => array(0x66), 0x1D642 => array(0x67)
                    ,0x1D643 => array(0x68), 0x1D644 => array(0x69), 0x1D645 => array(0x6A)
                    ,0x1D646 => array(0x6B), 0x1D647 => array(0x6C), 0x1D648 => array(0x6D)
                    ,0x1D649 => array(0x6E), 0x1D64A => array(0x6F), 0x1D64B => array(0x70)
                    ,0x1D64C => array(0x71), 0x1D64D => array(0x72), 0x1D64E => array(0x73)
                    ,0x1D64F => array(0x74), 0x1D650 => array(0x75), 0x1D651 => array(0x76)
                    ,0x1D652 => array(0x77), 0x1D653 => array(0x78), 0x1D654 => array(0x79)
                    ,0x1D655 => array(0x7A), 0x1D670 => array(0x61), 0x1D671 => array(0x62)
                    ,0x1D672 => array(0x63), 0x1D673 => array(0x64), 0x1D674 => array(0x65)
                    ,0x1D675 => array(0x66), 0x1D676 => array(0x67), 0x1D677 => array(0x68)
                    ,0x1D678 => array(0x69), 0x1D679 => array(0x6A), 0x1D67A => array(0x6B)
                    ,0x1D67B => array(0x6C), 0x1D67C => array(0x6D), 0x1D67D => array(0x6E)
                    ,0x1D67E => array(0x6F), 0x1D67F => array(0x70), 0x1D680 => array(0x71)
                    ,0x1D681 => array(0x72), 0x1D682 => array(0x73), 0x1D683 => array(0x74)
                    ,0x1D684 => array(0x75), 0x1D685 => array(0x76), 0x1D686 => array(0x77)
                    ,0x1D687 => array(0x78), 0x1D688 => array(0x79), 0x1D689 => array(0x7A)
                    ,0x1D6A8 => array(0x3B1), 0x1D6A9 => array(0x3B2), 0x1D6AA => array(0x3B3)
                    ,0x1D6AB => array(0x3B4), 0x1D6AC => array(0x3B5), 0x1D6AD => array(0x3B6)
                    ,0x1D6AE => array(0x3B7), 0x1D6AF => array(0x3B8), 0x1D6B0 => array(0x3B9)
                    ,0x1D6B1 => array(0x3BA), 0x1D6B2 => array(0x3BB), 0x1D6B3 => array(0x3BC)
                    ,0x1D6B4 => array(0x3BD), 0x1D6B5 => array(0x3BE), 0x1D6B6 => array(0x3BF)
                    ,0x1D6B7 => array(0x3C0), 0x1D6B8 => array(0x3C1), 0x1D6B9 => array(0x3B8)
                    ,0x1D6BA => array(0x3C3), 0x1D6BB => array(0x3C4), 0x1D6BC => array(0x3C5)
                    ,0x1D6BD => array(0x3C6), 0x1D6BE => array(0x3C7), 0x1D6BF => array(0x3C8)
                    ,0x1D6C0 => array(0x3C9), 0x1D6D3 => array(0x3C3), 0x1D6E2 => array(0x3B1)
                    ,0x1D6E3 => array(0x3B2), 0x1D6E4 => array(0x3B3), 0x1D6E5 => array(0x3B4)
                    ,0x1D6E6 => array(0x3B5), 0x1D6E7 => array(0x3B6), 0x1D6E8 => array(0x3B7)
                    ,0x1D6E9 => array(0x3B8), 0x1D6EA => array(0x3B9), 0x1D6EB => array(0x3BA)
                    ,0x1D6EC => array(0x3BB), 0x1D6ED => array(0x3BC), 0x1D6EE => array(0x3BD)
                    ,0x1D6EF => array(0x3BE), 0x1D6F0 => array(0x3BF), 0x1D6F1 => array(0x3C0)
                    ,0x1D6F2 => array(0x3C1), 0x1D6F3 => array(0x3B8) ,0x1D6F4 => array(0x3C3)
                    ,0x1D6F5 => array(0x3C4), 0x1D6F6 => array(0x3C5), 0x1D6F7 => array(0x3C6)
                    ,0x1D6F8 => array(0x3C7), 0x1D6F9 => array(0x3C8) ,0x1D6FA => array(0x3C9)
                    ,0x1D70D => array(0x3C3), 0x1D71C => array(0x3B1), 0x1D71D => array(0x3B2)
                    ,0x1D71E => array(0x3B3), 0x1D71F => array(0x3B4), 0x1D720 => array(0x3B5)
                    ,0x1D721 => array(0x3B6), 0x1D722 => array(0x3B7), 0x1D723 => array(0x3B8)
                    ,0x1D724 => array(0x3B9), 0x1D725 => array(0x3BA), 0x1D726 => array(0x3BB)
                    ,0x1D727 => array(0x3BC), 0x1D728 => array(0x3BD), 0x1D729 => array(0x3BE)
                    ,0x1D72A => array(0x3BF), 0x1D72B => array(0x3C0), 0x1D72C => array(0x3C1)
                    ,0x1D72D => array(0x3B8), 0x1D72E => array(0x3C3), 0x1D72F => array(0x3C4)
                    ,0x1D730 => array(0x3C5), 0x1D731 => array(0x3C6), 0x1D732 => array(0x3C7)
                    ,0x1D733 => array(0x3C8), 0x1D734 => array(0x3C9), 0x1D747 => array(0x3C3)
                    ,0x1D756 => array(0x3B1), 0x1D757 => array(0x3B2), 0x1D758 => array(0x3B3)
                    ,0x1D759 => array(0x3B4), 0x1D75A => array(0x3B5), 0x1D75B => array(0x3B6)
                    ,0x1D75C => array(0x3B7), 0x1D75D => array(0x3B8), 0x1D75E => array(0x3B9)
                    ,0x1D75F => array(0x3BA), 0x1D760 => array(0x3BB), 0x1D761 => array(0x3BC)
                    ,0x1D762 => array(0x3BD), 0x1D763 => array(0x3BE), 0x1D764 => array(0x3BF)
                    ,0x1D765 => array(0x3C0), 0x1D766 => array(0x3C1), 0x1D767 => array(0x3B8)
                    ,0x1D768 => array(0x3C3), 0x1D769 => array(0x3C4), 0x1D76A => array(0x3C5)
                    ,0x1D76B => array(0x3C6), 0x1D76C => array(0x3C7), 0x1D76D => array(0x3C8)
                    ,0x1D76E => array(0x3C9), 0x1D781 => array(0x3C3), 0x1D790 => array(0x3B1)
                    ,0x1D791 => array(0x3B2), 0x1D792 => array(0x3B3), 0x1D793 => array(0x3B4)
                    ,0x1D794 => array(0x3B5), 0x1D795 => array(0x3B6), 0x1D796 => array(0x3B7)
                    ,0x1D797 => array(0x3B8), 0x1D798 => array(0x3B9), 0x1D799 => array(0x3BA)
                    ,0x1D79A => array(0x3BB), 0x1D79B => array(0x3BC), 0x1D79C => array(0x3BD)
                    ,0x1D79D => array(0x3BE), 0x1D79E => array(0x3BF), 0x1D79F => array(0x3C0)
                    ,0x1D7A0 => array(0x3C1), 0x1D7A1 => array(0x3B8), 0x1D7A2 => array(0x3C3)
                    ,0x1D7A3 => array(0x3C4), 0x1D7A4 => array(0x3C5), 0x1D7A5 => array(0x3C6)
                    ,0x1D7A6 => array(0x3C7), 0x1D7A7 => array(0x3C8), 0x1D7A8 => array(0x3C9)
                    ,0x1D7BB => array(0x3C3), 0x3F9   => array(0x3C3), 0x1D2C  => array(0x61)
                    ,0x1D2D  => array(0xE6), 0x1D2E  => array(0x62), 0x1D30  => array(0x64)
                    ,0x1D31  => array(0x65), 0x1D32  => array(0x1DD), 0x1D33  => array(0x67)
                    ,0x1D34  => array(0x68), 0x1D35  => array(0x69), 0x1D36  => array(0x6A)
                    ,0x1D37  => array(0x6B), 0x1D38  => array(0x6C), 0x1D39  => array(0x6D)
                    ,0x1D3A  => array(0x6E), 0x1D3C  => array(0x6F), 0x1D3D  => array(0x223)
                    ,0x1D3E  => array(0x70), 0x1D3F  => array(0x72), 0x1D40  => array(0x74)
                    ,0x1D41  => array(0x75), 0x1D42  => array(0x77), 0x213B  => array(0x66, 0x61, 0x78)
                    ,0x3250  => array(0x70, 0x74, 0x65), 0x32CC  => array(0x68, 0x67)
                    ,0x32CE  => array(0x65, 0x76), 0x32CF  => array(0x6C, 0x74, 0x64)
                    ,0x337A  => array(0x69, 0x75), 0x33DE  => array(0x76, 0x2215, 0x6D)
                    ,0x33DF  => array(0x61, 0x2215, 0x6D)
                    )
            ,'norm_combcls' => array(0x334   => 1,   0x335   => 1,   0x336   => 1,   0x337   => 1
                    ,0x338   => 1,   0x93C   => 7,   0x9BC   => 7,   0xA3C   => 7,   0xABC   => 7
                    ,0xB3C   => 7,   0xCBC   => 7,   0x1037  => 7,   0x3099  => 8,   0x309A  => 8
                    ,0x94D   => 9,   0x9CD   => 9,   0xA4D   => 9,   0xACD   => 9,   0xB4D   => 9
                    ,0xBCD   => 9,   0xC4D   => 9,   0xCCD   => 9,   0xD4D   => 9,   0xDCA   => 9
                    ,0xE3A   => 9,   0xF84   => 9,   0x1039  => 9,   0x1714  => 9,   0x1734  => 9
                    ,0x17D2  => 9,   0x5B0   => 10,  0x5B1   => 11,  0x5B2   => 12,  0x5B3   => 13
                    ,0x5B4   => 14,  0x5B5   => 15,  0x5B6   => 16,  0x5B7   => 17,  0x5B8   => 18
                    ,0x5B9   => 19,  0x5BB   => 20,  0x5Bc   => 21,  0x5BD   => 22,  0x5BF   => 23
                    ,0x5C1   => 24,  0x5C2   => 25,  0xFB1E  => 26,  0x64B   => 27,  0x64C   => 28
                    ,0x64D   => 29,  0x64E   => 30,  0x64F   => 31,  0x650   => 32,  0x651   => 33
                    ,0x652   => 34,  0x670   => 35,  0x711   => 36,  0xC55   => 84,  0xC56   => 91
                    ,0xE38   => 103, 0xE39   => 103, 0xE48   => 107, 0xE49   => 107, 0xE4A   => 107
                    ,0xE4B   => 107, 0xEB8   => 118, 0xEB9   => 118, 0xEC8   => 122, 0xEC9   => 122
                    ,0xECA   => 122, 0xECB   => 122, 0xF71   => 129, 0xF72   => 130, 0xF7A   => 130
                    ,0xF7B   => 130, 0xF7C   => 130, 0xF7D   => 130, 0xF80   => 130, 0xF74   => 132
                    ,0x321   => 202, 0x322   => 202, 0x327   => 202, 0x328   => 202, 0x31B   => 216
                    ,0xF39   => 216, 0x1D165 => 216, 0x1D166 => 216, 0x1D16E => 216, 0x1D16F => 216
                    ,0x1D170 => 216, 0x1D171 => 216, 0x1D172 => 216, 0x302A  => 218, 0x316   => 220
                    ,0x317   => 220, 0x318   => 220, 0x319   => 220, 0x31C   => 220, 0x31D   => 220
                    ,0x31E   => 220, 0x31F   => 220, 0x320   => 220, 0x323   => 220, 0x324   => 220
                    ,0x325   => 220, 0x326   => 220, 0x329   => 220, 0x32A   => 220, 0x32B   => 220
                    ,0x32C   => 220, 0x32D   => 220, 0x32E   => 220, 0x32F   => 220, 0x330   => 220
                    ,0x331   => 220, 0x332   => 220, 0x333   => 220, 0x339   => 220, 0x33A   => 220
                    ,0x33B   => 220, 0x33C   => 220, 0x347   => 220, 0x348   => 220, 0x349   => 220
                    ,0x34D   => 220, 0x34E   => 220, 0x353   => 220, 0x354   => 220, 0x355   => 220
                    ,0x356   => 220, 0x591   => 220, 0x596   => 220, 0x59B   => 220, 0x5A3   => 220
                    ,0x5A4   => 220, 0x5A5   => 220, 0x5A6   => 220, 0x5A7   => 220, 0x5AA   => 220
                    ,0x655   => 220, 0x656   => 220, 0x6E3   => 220, 0x6EA   => 220, 0x6ED   => 220
                    ,0x731   => 220, 0x734   => 220, 0x737   => 220, 0x738   => 220, 0x739   => 220
                    ,0x73B   => 220, 0x73C   => 220, 0x73E   => 220, 0x742   => 220, 0x744   => 220
                    ,0x746   => 220, 0x748   => 220, 0x952   => 220, 0xF18   => 220, 0xF19   => 220
                    ,0xF35   => 220, 0xF37   => 220, 0xFC6   => 220, 0x193B  => 220, 0x20E8  => 220
                    ,0x1D17B => 220, 0x1D17C => 220, 0x1D17D => 220, 0x1D17E => 220, 0x1D17F => 220
                    ,0x1D180 => 220, 0x1D181 => 220, 0x1D182 => 220, 0x1D18A => 220, 0x1D18B => 220
                    ,0x59A   => 222, 0x5AD   => 222, 0x1929  => 222, 0x302D  => 222, 0x302E  => 224
                    ,0x302F  => 224, 0x1D16D => 226, 0x5AE   => 228, 0x18A9  => 228, 0x302B  => 228
                    ,0x300   => 230, 0x301   => 230, 0x302   => 230, 0x303   => 230, 0x304   => 230
                    ,0x305   => 230, 0x306   => 230, 0x307   => 230, 0x308   => 230, 0x309   => 230
                    ,0x30A   => 230, 0x30B   => 230, 0x30C   => 230, 0x30D   => 230, 0x30E   => 230
                    ,0x30F   => 230, 0x310   => 230, 0x311   => 230, 0x312   => 230, 0x313   => 230
                    ,0x314   => 230, 0x33D   => 230, 0x33E   => 230, 0x33F   => 230, 0x340   => 230
                    ,0x341   => 230, 0x342   => 230, 0x343   => 230, 0x344   => 230, 0x346   => 230
                    ,0x34A   => 230, 0x34B   => 230, 0x34C   => 230, 0x350   => 230, 0x351   => 230
                    ,0x352   => 230, 0x357   => 230, 0x363   => 230, 0x364   => 230, 0x365   => 230
                    ,0x366   => 230, 0x367   => 230, 0x368   => 230, 0x369   => 230, 0x36A   => 230
                    ,0x36B   => 230, 0x36C   => 230, 0x36D   => 230, 0x36E   => 230, 0x36F   => 230
                    ,0x483   => 230, 0x484   => 230, 0x485   => 230, 0x486   => 230, 0x592   => 230
                    ,0x593   => 230, 0x594   => 230, 0x595   => 230, 0x597   => 230, 0x598   => 230
                    ,0x599   => 230, 0x59C   => 230, 0x59D   => 230, 0x59E   => 230, 0x59F   => 230
                    ,0x5A0   => 230, 0x5A1   => 230, 0x5A8   => 230, 0x5A9   => 230, 0x5AB   => 230
                    ,0x5AC   => 230, 0x5AF   => 230, 0x5C4   => 230, 0x610   => 230, 0x611   => 230
                    ,0x612   => 230, 0x613   => 230, 0x614   => 230, 0x615   => 230, 0x653   => 230
                    ,0x654   => 230, 0x657   => 230, 0x658   => 230, 0x6D6   => 230, 0x6D7   => 230
                    ,0x6D8   => 230, 0x6D9   => 230, 0x6DA   => 230, 0x6DB   => 230, 0x6DC   => 230
                    ,0x6DF   => 230, 0x6E0   => 230, 0x6E1   => 230, 0x6E2   => 230, 0x6E4   => 230
                    ,0x6E7   => 230, 0x6E8   => 230, 0x6EB   => 230, 0x6EC   => 230, 0x730   => 230
                    ,0x732   => 230, 0x733   => 230, 0x735   => 230, 0x736   => 230, 0x73A   => 230
                    ,0x73D   => 230, 0x73F   => 230, 0x740   => 230, 0x741   => 230, 0x743   => 230
                    ,0x745   => 230, 0x747   => 230, 0x749   => 230, 0x74A   => 230, 0x951   => 230
                    ,0x953   => 230, 0x954   => 230, 0xF82   => 230, 0xF83   => 230, 0xF86   => 230
                    ,0xF87   => 230, 0x170D  => 230, 0x193A  => 230, 0x20D0  => 230, 0x20D1  => 230
                    ,0x20D4  => 230, 0x20D5  => 230, 0x20D6  => 230, 0x20D7  => 230, 0x20DB  => 230
                    ,0x20DC  => 230, 0x20E1  => 230, 0x20E7  => 230, 0x20E9  => 230, 0xFE20  => 230
                    ,0xFE21  => 230, 0xFE22  => 230, 0xFE23  => 230, 0x1D185 => 230, 0x1D186 => 230
                    ,0x1D187 => 230, 0x1D189 => 230, 0x1D188 => 230, 0x1D1AA => 230, 0x1D1AB => 230
                    ,0x1D1AC => 230, 0x1D1AD => 230, 0x315   => 232, 0x31A   => 232, 0x302C  => 232
                    ,0x35F   => 233, 0x362   => 233, 0x35D   => 234, 0x35E   => 234, 0x360   => 234
                    ,0x361   => 234, 0x345   => 240
                    )
            );
}


?>